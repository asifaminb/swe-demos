{"version":3,"sources":["webpack:///webpack/bootstrap 55b20764048212d4cd95","webpack:///./src/assets/_project/_blocks/qg-main.js","webpack:///./src/assets/_project/_blocks/utils/qg-env.js","webpack:///./src/assets/_project/_blocks/utils/qg-util.js","webpack:///./src/assets/_project/_blocks/utils/qg-misc.js","webpack:///./src/assets/_project/_blocks/utils/qg-ajax-call.js","webpack:///./src/assets/_project/_blocks/utils/qg-load-google-api.js","webpack:///./src/assets/_project/_blocks/data/qg-google-keys.json","webpack:///./src/assets/_project/_blocks/utils/parent-width.js","webpack:///./src/assets/_project/_blocks/legacy/forms/forms.js","webpack:///./src/assets/_project/_blocks/legacy/site-search-autocomplete.js","webpack:///./src/assets/_project/_blocks/components/qg-components.js","webpack:///./src/assets/_project/_blocks/components/qg-social-media.js","webpack:///./src/assets/_project/_blocks/components/progressive-reveal.js","webpack:///./src/assets/_project/_blocks/components/license.js","webpack:///./src/assets/_project/_blocks/components/carousel/carousel.js","webpack:///./src/assets/_project/_blocks/components/quick-exit/quick-exit.js","webpack:///./src/assets/_project/_blocks/components/accordion/accordion.js","webpack:///./src/assets/_project/_blocks/components/forms/recaptcha.js","webpack:///./src/assets/_project/_blocks/components/forms/qg-address-autocomplete.js","webpack:///./src/assets/_project/_blocks/components/qg-document-links.js","webpack:///./src/assets/_project/_blocks/components/accessibility/accessibility.js","webpack:///./src/assets/_project/_blocks/layout/footer/footer-legals.js","webpack:///./src/assets/_project/_blocks/layout/section-nav/section-nav.js","webpack:///./src/assets/_project/_blocks/layout/section-nav/step-nav.js","webpack:///./src/assets/_project/_blocks/utils/breakpoints.js","webpack:///./src/assets/_project/_blocks/layout/content/share-links.js","webpack:///./src/assets/_project/_blocks/layout/content/content.js","webpack:///./src/assets/_project/_blocks/layout/content/content-types/figure-credits-toggle.js","webpack:///./src/assets/_project/_blocks/layout/footer/feedback-form.js"],"names":["franchiseTitle","qg","swe","activeSideNav","highlightNavItem","stepNav","init","feedbackForm","shareLinks","window","cdn","isProduction","assets","paths","images","$","getParameterByName","name","url","location","href","replace","regex","RegExp","results","exec","decodeURIComponent","butterfly","contentDefaultWidth","contentDefaultHeight","reuseFragment","jQuery","ajaxCall","dataType","callback","errorMsg","ajax","crossDomain","success","error","console","log","googleApiKey","firstFolderPath","pathname","split","$mapImg","hostname","search","keys","defGoogle","docs","test","prod","franchises","forEach","e","apiKey","generateStaticMapImg","ele","lat","attr","lon","zoom","height","length","htmlInsert","each","$this","find","append","prepend","wrap","eq","lazyScript","loadGoogle","next","s","document","createElement","u","type","id","src","getElementsByTagName","appendChild","onreadystatechange","readyState","onload","parentWidth","$target","outerWidth","parent","width","module","exports","SUBMIT_TOLERANCE","DEFAULT_STATUS_HTML","candidateForValidation","invalidFilter","disabled","validity","valid","pluginDataKey","pluginData","key","value","dataHash","data","getLabelComponent","component","options","map","index","domElement","$element","labelElement","foundElement","level","formValidation","is","closest","children","changeValidityCheck","alertElement","alertLevel","invalidContainers","filter","remove","text","parentsUntil","removeClass","hasClass","after","submitValidityCheck","form","invalid","invalidFields","cache","alert","call","messages","lastGroupSeen","group","label","labelId","item","generateId","end","appendTo","submitValidationHandler","event","count","stopImmediatePropagation","preventDefault","summary","prev","not","before","fadeIn","scrollTop","offset","top","addClass","trigger","submitDoneHandler","timeStamp","now","summaryElement","lastSubmitTimeStamp","methods","hint","question","validate","unbind","bind","getValidationMessage","validityState","valueMissing","customError","validationMessage","typeMismatch","patternMismatch","fn","method","apply","Array","prototype","slice","arguments","forcesForms","preferredId","i","trim","toLowerCase","getAttribute","getElementById","String","setAttribute","REXP_EMAIL","input","get","polyfill","radioButtonBug","validateBuggyRadioButtons","isInvalid","getRadioButtonsInGroup","radio","elements","message","validateField","required","invalidEmail","pattern","newValidityState","nodeName","selectedIndex","checked","changeHandler","target","submitHandler","novalidate","triggerHandler","initConstraintValidationAPI","candidates","checkValidity","setCustomValidity","that","seen","removeAttr","simplyCountable","extend","counter","countType","maxCount","strictMax","countDirection","safeClass","overClass","thousandSeparator","onOverCount","onSafeCount","onMaxCount","navKeys","countable","countCheck","revCount","reverseCount","ct","countInt","numberFormat","prefix","toString","match","substr","changeCountableValue","val","content","allowedText","substring","on","inArray","which","setTimeout","relevantEvent","irrelevantEvent","elementsToDisable","polyfillHidden","hidden","hiddenSupported","formElementsByName","filterRelevant","filterIrrelevant","valueMap","element","valueInArray","possibleValues","actualValues","recalculateRelevance","dependencyMap","values","config","items","relevance","negate","recalculateDependents","isRelevant","targets","add","unique","elementOfArray","relevant","makeRelevant","show","removeAttribute","stop","slideDown","hide","relevantWhen","container","push","instructions","instructionSelector","questionSelector","toggle","prevAll","answers","nestedToggles","reverse","displayFileSize","files","fsize","nextAll","html","filesize","size","Math","round","maxFileSize","parseInt","total","xorConstraintSubmitHandler","xorFields","xorConstraintMet","xorConstraintChangeHandler","validationUiRefreshOnly","initXorConstraint","delegate","evt","initValidation","toggleRequired","controls","oldIE","date","datePackage","qldHolidays","isPublicHoliday","d","getDate","m","getMonth","y","getFullYear","dateString","max","textField","MAX_SUGGESTIONS","searchField","query","userTyped","suggestions","closeSuggestions","empty","prefillInput","setSelectionRange","moveFocus","n","a","focus","KEYS","alt","backspace","delete","down","enter","escape","left","right","tab","up","collection","profile","partial_query","done","safeInput","htmlValue","encodeURIComponent","join","accessibility","qgSocialMedia","$twitterEl","$facebookEl","twitterSdkScript","facebookSdkScript","loadScript","fbUrl","fbhtml","tag","sdkUrl","createEl","fjs","p","parentNode","insertBefore","defaultSettings","hideOthers","settingsAttr","parentAttr","trgrAttr","trgrTargetAttr","trgrParentAttr","trgrActiveDataName","saveAttr","$parent","setting","aVal","handleNonActiveElements","trgr","slideUp","$tgt","slideToggle","removeData","licenceOptions","imgSrc","types","getLicenseVal","urlArr","abbreviation","version","imgPath","imgName","versions","licence","urlPath","title","carousels","eqHeight","heights","tallest","normalizeHeights","css","carousel","click","$parentCarousel","parents","toggleClass","quickExit","el","template","quickExitLinks","escLink","keydown","keyCode","stopPropagation","accordion","accordionControls","linkedpanel","hash","checkedStatus","prop","controlledPanedId","googleRecaptchaApiKey","defGoogleRecaptcha","uat","onloadRecaptcha","subBtn","grecaptcha","render","response","getResponse","undefined","submit","execute","qgInitAutocompleteAddress","inputLocationId","addressSelection","$searchWidget","$autoComplete","$latitude","$longitude","$form","setsValue","getParameterVal","blur","getLocationEle","qldBounds","google","maps","LatLngBounds","LatLng","inputLocationEle","getElementsByClassName","addressFormId","dataStrictBounds","bounds","strictBounds","autocomplete","places","Autocomplete","siblings","formFields","street_number","route","locality","administrative_area_level_1","country","postal_code","fillInAddress","loc","getPlace","v","address_components","inputEle","change","addListener","place","formatted_address","geometry","lng","keyup","reqReady","formContainer","errorMessage","errorHandler","insertAfter","itemFull","itemQuery","firstResult","geocoder","Geocoder","geocode","status","latitude","longitude","navigator","geolocation","showLocation","position","coords","latlng","parseFloat","locationInput","err","code","timeout","getCurrentPosition","linkType","contentType","ready","linkRegex","contentRegex","linkText","extractSize","toUpperCase","opensInNewWindow","contains","addCorrectIncorrect","ext","$correct","$incorrect","Date","refineText","getCurrentTitle","currentPageTitle","titleClone","clone","$guideSubNav","$qgSectionNav","$qgSectionNavListItems","$stepNav","$heading","createStepNav","resize","getActiveNav","activeNav","countListItems","view","block","breakpoints","bsMd","$getSubNav","hover","duration","queue","clearTimeout","fadeOut","bsXs","bsSm","bsLg","socialLinksList","primary","showTitle","icon","renderIcon","renderSocialURL","who","from","domain","description","renderHidden","renderLink","renderShareButtons","getLinks","socialLinks","str","entry","titleKey","figureElement","sanitize","browserName","ua","userAgent","tem","M","appName","appVersion","splice","addHiddenInput","newHiddenInput","referrer","platform"],"mappings":"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","file":"qg-main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 55b20764048212d4cd95","// env initialization\nimport qg from './utils/qg-env';\n\n// utils import\nimport './utils/qg-util';\n\n// legacy module imports\nimport './legacy/forms/forms';\nimport './legacy/site-search-autocomplete.js';\n\n// components import\nimport './components/qg-components';\n\n// Layout imports\nimport './layout/footer/footer-legals';\nimport activeSideNav      from './layout/section-nav/section-nav';\nimport stepNav      from './layout/section-nav/step-nav';\nimport shareLinks         from './layout/content/share-links';\nimport './layout/content/content';\nimport './layout/content/content-types/figure-credits-toggle';\nimport feedbackForm       from './layout/footer/feedback-form';\n\n(function () {\n  'use strict';\n  let franchiseTitle = qg && qg.swe && qg.swe.franchiseTitle;\n  activeSideNav.highlightNavItem();\n  stepNav.init();\n  feedbackForm.init(franchiseTitle);\n  shareLinks.init();\n}());\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/qg-main.js","// All the environment related SWE3 code\n\nwindow.qg = window.qg || {};\nwindow.qg.swe = window.qg.swe || {};\nwindow.qg.cdn = window.qg.swe.isProduction === false ? 'https://beta-static.qgov.net.au' : 'https://static.qgov.net.au';\nwindow.qg.swe.assets = '/assets/v3.1/latest/';\n\nwindow.qg.swe.paths = {\n  images: window.qg.swe.assets + 'images',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/utils/qg-env.js","import './qg-misc';\nimport './qg-ajax-call';\nimport './qg-load-google-api';\nimport './parent-width';\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/utils/qg-util.js","/*globals qg*/\n\n(function ($, swe) {\n  /**\n   * Gets parameter value\n   * @param {string} name - parameter name\n   * @param {string} url - url where searching needs to be performed\n   * @returns {*} - returns the parameter value\n   */\n  // TODO - feature addition to sanitize data\n  swe.getParameterByName = (name, url) => {\n    if (name == null) return false;\n    if (!url) url = window.location.href;\n    name = name.replace(/[\\\\[\\]]/g, '\\\\$&');\n    let regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)');\n    let results = regex.exec(url);\n    if (!results || !results[2]) return false;\n    return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n  };\n  // Maps view full screen customization code\n  $('.map-modal').butterfly({\n    contentDefaultWidth: '90%',\n    contentDefaultHeight: '90%',\n    reuseFragment: true,\n  });\n}(jQuery, qg.swe));\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/utils/qg-misc.js","/*globals qg*/\n/*\n* Utility to handle ajax calls\n* Usage: swe.ajaxCall('https://www.google.com/recaptcha/api.js', 'script', onloadRecaptcha, 'Recaptcha unavailable');\n* */\n(function ($, swe) {\n  swe.ajaxCall = (url, dataType, callback, errorMsg) => {\n    $.ajax({\n      url: url,\n      dataType: dataType,\n      crossDomain: true,\n      success: callback,\n      error: () => {\n        console.log(errorMsg);\n      }\n    });\n  };\n}(jQuery, qg.swe));\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/utils/qg-ajax-call.js","/**\n * When using functionality related to google libraries, this fuction comes handy to check if libraries already exists and then execute custom function\n */\n/* globals qg */\nimport keys from '../data/qg-google-keys';\n\n(function (qg, $) {\n  'use strict';\n  let googleApiKey;\n  let firstFolderPath = location.pathname.split('/')[1];\n  let $mapImg = $('.qg-static-map');\n\n  // check if the hostname contains a specific word and assign the key accordingly\n  if (window.location.hostname.search(/\\bgithub\\b/) !== -1) {\n    console.log('docs key in use');\n    googleApiKey = keys.defGoogle.docs;\n  } else if (window.location.hostname.search(/\\bdev\\b|\\btest\\b|\\blocalhost\\b/) !== -1) {\n    console.log('test key in use');\n    googleApiKey = keys.defGoogle.test;\n  } else {\n    googleApiKey = keys.defGoogle.prod;\n  }\n\n  // check if first folder path exist and match to see if this is a valid franchise name or not\n  if (firstFolderPath) {\n    keys.franchises.forEach(function (e) {\n      if (firstFolderPath === e.name) {\n        googleApiKey = e.apiKey;\n      }\n    });\n  }\n  function generateStaticMapImg (ele) {\n    let lat = ele.attr('data-lat') || -27.4673;\n    let lon = ele.attr('data-long') || 153.0233;\n    let zoom = ele.attr('data-zoom') || 17;\n    let height = ele.attr('data-height') || 189;\n    return 'https://maps.googleapis.com/maps/api/staticmap?size=373x' + height + '&maptype=roadmap&markers=' + lat + '%2C' + lon + '&key=' + googleApiKey + '&sensor=false&zoom=' + zoom;\n  }\n\n  if ($mapImg.length > 0) {\n    var htmlInsert = $('<div>');\n    $mapImg.each(function () {\n      let $this = $(this);\n      $this.find('img').attr('src', generateStaticMapImg($this.find('img')));\n      htmlInsert.append($this);\n    });\n    $('aside').prepend(htmlInsert);\n    $('a.qg-static-map').wrap(\"<div class='qg-aside st-map-static'>\");\n    $('.st-map-static').eq(0).prepend(\"<h2><i class='fa fa-compass' aria-hidden='true'></i>Maps</h2>\");\n  }\n  function lazyScript (url) {\n    $('head').append('<script type=\"text/javascript\" src=\"' + url + '\"></script>');\n  }\n  //load Google APi\n  qg.loadGoogle = function (callback) {\n    let next = () => {\n      if (typeof callback === 'function') {\n        callback();\n      } else {\n        lazyScript(callback);\n      }\n    };\n    if ($('#googleapi').length <= 0) {\n      let s = document.createElement('script');\n      let u = `https://maps.googleapis.com/maps/api/js?key=${googleApiKey}&region=AU&libraries=places`;\n      s.type = 'text/javascript';\n      s.id = 'googleapi';\n      s.src = u;\n      document.getElementsByTagName('head')[0].appendChild(s);\n      s.onreadystatechange = function () { //trigger for IE\n        if (this.readyState === 'complete') {\n          next();\n        }\n      };\n      s.onload = function () {\n        next();\n      };\n    } else { //if script is already created but either loading or loaded\n      if (document.readyState === 'loading') {\n        document.onreadystatechange = function () {\n          if (this.readyState === 'complete') {\n            next();\n          }\n        };\n      } else {\n        next();\n      }\n    }\n  };\n}(qg, jQuery));\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/utils/qg-load-google-api.js","module.exports = {\"defGoogle\":{\"test\":\"AIzaSyCKuaFIFo7YYZXHZ5zaiEZdJx0UBoyfuAE\",\"docs\":\"AIzaSyBE95_qL90MT9loY1roLnHJ3uaBYbleYeM\",\"prod\":\"AIzaSyANZv-2WcXRzkBqtgEcLTZq7zVy-9eNWgw\"},\"defGoogleRecaptcha\":{\"uat\":\"6LeNGSwUAAAAAD6o-P5UTM0FNpKjYB71Kh70F-Ud\",\"prod\":\"6LcoIywUAAAAAN-1rq22G-bP3yxl1bBq_5nHJ6s9\"},\"franchises\":[{\"name\":\"about\",\"apiKey\":\"AIzaSyBi-T3vrvcYwouFPqPI5IgLoQxl2hz6Ogs\"},{\"name\":\"atsi\",\"apiKey\":\"AIzaSyB2mTTDd1CcLEYrLHJJHlzX60vQ68snyko\"},{\"name\":\"community\",\"apiKey\":\"AIzaSyCJwNeGu0XT1lvhg-2cm7S27BQo9k7Jd9E\"},{\"name\":\"disability\",\"apiKey\":\"AIzaSyC-KQFfBhoGle7kJJhY1Pf_GvR_qC5jzN4\"},{\"name\":\"education\",\"apiKey\":\"AIzaSyDeeYKKOyQCYkpVWXRLLxyNjfy2dhyWVls\"},{\"name\":\"emergency\",\"apiKey\":\"AIzaSyD1xT_2Dh2EZ7Iy6SLodeH8CJzbXlp6vgE\"},{\"name\":\"environment\",\"apiKey\":\"AIzaSyAZJjfwIKDPlQs-S3id-CGp8U_S4U7idFI\"},{\"name\":\"families\",\"apiKey\":\"AIzaSyBucRn0YhJhQ-ELSS-MM7JvYb19-I1bqqI\"},{\"name\":\"health\",\"apiKey\":\"AIzaSyD_Xzvr6nBm5PlpANw2UZ2df3-U5eeOlvY\"},{\"name\":\"housing\",\"apiKey\":\"AIzaSyCgMKJlbP1SRIf3xCMFDbBImNkF_BCubvk\"},{\"name\":\"jobs\",\"apiKey\":\"AIzaSyBXmI1DZvPFVQ_h-E1TNsPNdlNuqDd7MVo\"},{\"name\":\"law\",\"apiKey\":\"AIzaSyBeij584IMIZqpftyhMCt_lZ_hBK_h8hMc\"},{\"name\":\"recreation\",\"apiKey\":\"AIzaSyDJmfdqYI3eyV8-ivwPWVIIHxBzqo5_v2I\"},{\"name\":\"seniors\",\"apiKey\":\"AIzaSyA3PDnd30Twv3Zr3JKqiAUYNO1983ZDBe0\"},{\"name\":\"transport\",\"apiKey\":\"AIzaSyARzyCPigCt9cW1F6ua0_U3NVLdRbxwLyg\"},{\"name\":\"youth\",\"apiKey\":\"AIzaSyCe7FYHy28So2Uio_OEQje0o0Pr23s7gt0\"}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/_project/_blocks/data/qg-google-keys.json\n// module id = 6\n// module chunks = 0","/* ========================================================================\n* Set element to parent width\n* [TODO: Write about what this is for, to make it easier for future\n* developers to know what to put into it, and what not to.]\n* ======================================================================== */\n\n'use strict';\n\n// FIXME: Reports linting error as it's defined as a module, but never used\n//If this is not in use then we can can delete?\nvar parentWidth = (function ($) {\n  var $target = $('*[data-parent-width=true], *[data-parent-width=1]');\n  $target.outerWidth($target.parent().width());\n})(jQuery);\n\nmodule.exports = parentWidth;\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/utils/parent-width.js","/*! Form validation - v1.1.1 - 2014-04-09\n * https://github.com/bboyle/form-validation\n * Copyright (c) 2014 Ben Boyle; Licensed MIT */\n(function ($) {\n  'use strict';\n\n\n  var SUBMIT_TOLERANCE = 10000,\n    DEFAULT_STATUS_HTML = '<div class=\"alert alert-warning\" role=\"alert\"><div class=\"inner\"><h2><i class=\"fa fa-exclamation-triangle\"></i>Please check your answers</h2><ol></ol></div></div>',\n    // fields that validate\n    candidateForValidation = 'input, select, textarea',\n\n\n    // invalidFilter\n    invalidFilter = function () {\n      return !(this.disabled || this.validity.valid);\n    },\n\n\n    // follow plugin conventions for storing plugin data\n    // http://docs.jquery.com/Plugins/Authoring#Data\n    pluginDataKey = 'formValidation',\n    pluginData = function (key, value) {\n      var dataHash = this.data(pluginDataKey) || this.data(pluginDataKey, {}).data(pluginDataKey);\n\n      if (typeof key !== 'undefined') {\n        if (typeof value !== 'undefined') {\n          dataHash[key] = value;\n          return value;\n        } else if (typeof dataHash[key] !== 'undefined') {\n          return dataHash[key];\n        }\n        return null;\n      }\n\n      return dataHash;\n    },\n\n\n    // helper for .label, .hint and .alert\n    getLabelComponent = function (component, options) {\n      return this.map(function (index, domElement) {\n        var $element = $(domElement),\n          labelElement = null,\n          foundElement = null;\n\n        if (typeof options === 'object' && options.level === 'group') {\n          foundElement = $element.formValidation('group').find(component)[0];\n        } else if ($element.is(':radio, :checkbox')) {\n          foundElement = $element.closest('fieldset').find(component)[0];\n        } else {\n          labelElement = $element.closest('form').find('label[for=\"' + domElement.id + '\"]');\n          foundElement = labelElement.children(component)[0];\n          if (!foundElement) {\n            if (component === '.hint') {\n              labelElement.append('<small class=\"hint\"></small>');\n              foundElement = labelElement.children(component)[0];\n            }\n          }\n        }\n        return foundElement;\n      });\n    },\n\n\n    changeValidityCheck = function () {\n      var $this = $(this),\n        alertElement = $this.formValidation('alert'),\n        alertLevel,\n        invalidContainers;\n\n      // is this control valid?\n      if (this.validity.valid) {\n        // is it part of a group that contain other invalid controls?\n        if ($this.formValidation('question').find('.alert').filter(alertElement).length > 0) {\n          alertElement.remove();\n        } else {\n          // update message from first invalid field in group\n          invalidContainers = $this.formValidation('group').find(candidateForValidation).filter(invalidFilter);\n          if (invalidContainers.length > 0) {\n            alertElement.text(invalidContainers.formValidation('getValidationMessage'));\n          } else {\n            // all fields valid\n            alertElement.remove();\n          }\n        }\n\n        // remove invalid class from ancestors that do not contain invalid fields\n        $this.parentsUntil('form', '.invalid').filter(function () {\n          return $(this).find(candidateForValidation).filter(invalidFilter).length === 0;\n        })\n        // remove .invalid class\n          .removeClass('invalid')\n          // remove old alerts (change handler should have already done this)\n          .find('.alert')\n          .remove();\n      } else {\n        // does alert exist?\n        if (alertElement.length === 0) {\n          alertElement = $('<em class=\"alert\"/>');\n        }\n        // show message\n        alertElement.text($this.formValidation('getValidationMessage'));\n        // append to form\n        if ($this.formValidation('group').hasClass('atomic')) {\n          alertLevel = { 'level': 'group' };\n        }\n\n        $this.formValidation( 'label', alertLevel ).parent().find( '.label, abbr[title=\"(required)\"]' ).eq( -1 )\n          .after(alertElement);\n\n        // NOTE we don't flag the question as .invalid now\n        // .invalid only happens on submit, to soften inline validation errors\n      }\n    },\n\n\n    // checks for invalid elements\n    // returns number of invalid elements\n    submitValidityCheck = function () {\n      // form object\n      var form = $(this).closest('form'),\n\n        // invalid fields\n        invalid = form.find(candidateForValidation).filter(function invalidFields() {\n          // skip disabled\n          if (this.disabled) {\n            return false;\n          }\n\n          // only check radio button groups once (skip individual radio button)\n          if (this.type === 'radio') {\n            if (!invalidFields.cache) {\n              invalidFields.cache = {};\n            } else if (invalidFields.cache[this.name] === true) {\n              return false;\n            }\n            invalidFields.cache[this.name] = true;\n          }\n\n          return this.validity && !this.validity.valid;\n        }),\n\n        // alert container\n        alert = pluginData.call(form, 'summaryElement') || pluginData.call(form, 'summaryElement', $(DEFAULT_STATUS_HTML)),\n\n        // messages within alert\n        messages = alert.find('ol'),\n\n        // track groups\n        lastGroupSeen = true;\n\n      if (invalid.length > 0) {\n        // remove old messages\n        messages.find('li').remove();\n\n        // add new messages\n        invalid.each(function () {\n          // get field\n          var $this = $(this),\n            // get group (if exists)\n            group = $this.formValidation('group'),\n            // get label or group label\n            label = $this.formValidation('label', {\n              level: group.length > 0 ? 'group' : null\n            }),\n            labelId,\n            item;\n\n          // get the label id\n          if (label.length > 0) {\n            labelId = label[0].id || label.generateId('label-' + this.id)[0].id;\n          } else {\n            labelId = this.name;\n          }\n\n          // get alert item\n          item = pluginData.call( $this, 'summaryElement' ) || pluginData.call( $this, 'summaryElement', $( '<li><a href=\"#' + labelId + '\"></a></li>' ));\n\n          if ( group.length === 0 || group[0] !== lastGroupSeen ) {\n            // update last group seen\n            lastGroupSeen = group[ 0 ];\n\n            // create error message with link to label\n            item\n              .find('a')\n              .text( label.text().replace( /\\?$/, '' ) + ': ' + $this.formValidation( 'getValidationMessage' ))\n              .end()\n              .appendTo( messages );\n          } else {\n            // remove from DOM\n            item.remove();\n          }\n        });\n      }\n\n      return invalid.length;\n    },\n\n\n    submitValidationHandler = function (event) {\n      // validate form\n      var count = submitValidityCheck.call( this ),\n        form = $( this );\n\n      // remove invalid class from questions that do not contain invalid fields\n      form.find( '.invalid' ).filter(function() {\n        return $( this ).find( candidateForValidation ).filter( invalidFilter ).length === 0;\n      })\n      // remove .invalid class\n        .removeClass( 'invalid' )\n        // remove old alerts (change handler should have already done this)\n        .find( '.alert' )\n        .remove()\n      ;\n\n\n      // anything invalid?\n      if ( count > 0 ) {\n        // cancel submit\n        event.stopImmediatePropagation();\n        event.preventDefault();\n\n        // show the error summary\n        (function(form) {\n          var summary = pluginData.call( form, 'summaryElement' );\n          // hide any previous status blocks\n          form.prev( '.alert' ).not( summary ).remove();\n          // show the new summary\n          form.before( summary.fadeIn() );\n          // focus/scroll summary element\n          $( window ).scrollTop( summary.offset().top );\n        }( form ));\n\n        // find all the invalid fields\n        form.find( candidateForValidation ).filter( invalidFilter ).each(function() {\n          // update inline alerts\n          changeValidityCheck.call( this );\n        })\n        // set .invalid on ancestor LI elements\n          .parentsUntil( 'form', '.questions > li' )\n          // but not sections\n          .not( '.section, .compact' )\n          .addClass( 'invalid' )\n        ;\n\n        // trigger x-invalid\n        form.trigger( 'x-invalid' );\n\n        // cancel submit\n        return false;\n      }\n    },\n\n\n    // bind this AFTER the validation handler\n    // only invoked if validation did not prevent submit\n    submitDoneHandler = function( event ) {\n      // use event.timeStamp when available and $.now() otherwise\n      var timeStamp = event.timeStamp || $.now(),\n        form = $( this ),\n        summaryElement = pluginData.call( form, 'summaryElement' ),\n        lastSubmitTimeStamp\n      ;\n\n      // remove summary element from DOM on successful submit\n      if ( summaryElement ) {\n        summaryElement.remove();\n      }\n\n      // is this submit event too soon after the last one?\n      lastSubmitTimeStamp = pluginData.call( form, 'lastSubmitTimeStamp' );\n      if ( lastSubmitTimeStamp && timeStamp - lastSubmitTimeStamp < SUBMIT_TOLERANCE ) {\n        // cancel the submit event\n        event.stopImmediatePropagation();\n        event.preventDefault();\n        return false;\n      } else {\n        // store the timestamp\n        pluginData.call( form, 'lastSubmitTimeStamp', timeStamp );\n      }\n    },\n\n\n    // plugin methods\n    methods = {\n      // $( x ).formValidation( 'alert' ) -- get\n      // get alert text\n      alert: function() {\n        return this.map(function( index, domElement ) {\n          var $element = $( domElement ),\n            group;\n\n          if ( $element.is( ':radio, :checkbox' ) === true ) {\n            return $element.closest( 'fieldset' ).find( 'legend > .alert' )[ 0 ];\n          } else {\n            // atomic groups\n            group = $element.formValidation( 'group' ).filter( '.atomic' );\n            if ( group.length > 0 ) {\n              return group.find( 'legend > .alert' )[ 0 ];\n            } else {\n              return $( 'label[for=\"' + domElement.id + '\"] > .alert' )[ 0 ];\n            }\n          }\n        });\n      },\n\n\n      // $( x ).formValidation( 'label' )\n      // $( x ).formValidation( 'label', { level : group })\n      // return .label associated with element or containing group\n      label : function( options ) {\n        return getLabelComponent.call( this, '.label', options );\n      },\n\n\n      // $( x ).formValidation( 'hint' )\n      // $( x ).formValidation( 'hint', { level : group })\n      // return .hint associated with element or containing group\n      hint : function( options ) {\n        return getLabelComponent.call( this, '.hint', options );\n      },\n\n\n      // $( x ).formValidation( 'question' )\n      // return question element for item\n      question : function( options ) {\n        // looking for group?\n        if ( typeof options === 'object' && options.level === 'group' ) {\n          // return the group\n          return this.formValidation( 'group' );\n        }\n\n        // not looking for group\n        return this.map(function( index, domElement ) {\n          return $( domElement ).parentsUntil( 'form', '.questions > li' )[ 0 ];\n        });\n      },\n\n\n      // $( x ).formValidation( 'group' )\n      // return group element for item\n      group : function() {\n        return this.map(function( index, domElement ) {\n          return $( domElement ).parentsUntil( 'form', '.group' ).filter(function() {\n            // ignore groups that do not contain fieldsets\n            return $( this ).children( 'fieldset' ).length > 0;\n          })[ 0 ];\n        });\n      },\n\n\n      // $( x ).formValidation( 'validate' )\n      // binds validation handler functions\n      // sets @novalidate on form to disable built-in validation\n      // TODO allow this to be called multiple times without binding additional handlers!\n      validate : function() {\n        return this.each(function() {\n          $( this ).closest( 'form' )\n          // turn off native validation\n            .attr( 'novalidate', true )\n            // unbind and rebind handlers\n            .unbind( 'submit', submitDoneHandler )\n            .unbind( 'submit', submitValidationHandler )\n            // validate this form\n            .bind( 'submit', submitValidationHandler )\n            // if validation did not cancel submit\n            .bind( 'submit', submitDoneHandler )\n            // bind inline validation handlers to form elements\n            .find( candidateForValidation )\n            .unbind( 'change', changeValidityCheck )\n            .bind( 'change', changeValidityCheck )\n          ;\n        });\n      },\n\n\n      // $( x ).formValidation( 'getValidationMessage' )\n      // return String validation message, e.g. \"Must be completed\"\n      getValidationMessage : function() {\n\n        var validityState = this[ 0 ].validity;\n\n        if ( typeof validityState === 'undefined' || validityState.valid === true ) {\n          return '';\n        } else if ( validityState.valueMissing ) {\n          return 'Must be completed';\n        } else if ( validityState.customError ) {\n          return this[ 0 ].validationMessage;\n        } else if ( validityState.typeMismatch ) {\n          return 'Must be an email address';\n        } else if ( validityState.patternMismatch ) {\n          return 'Must use the format shown';\n        } else {\n          return 'Must be a valid answer';\n        }\n      }\n\n    };\n\n  $.fn.formValidation = function( method ) {\n    // Method calling logic\n    // http://docs.jquery.com/Plugins/Authoring#Plugin_Methods\n    if ( methods[method] ) {\n      return methods[ method ].apply( this, Array.prototype.slice.call( arguments, 1 ));\n    } else if ( typeof method === 'object' || ! method ) {\n      return methods.init.apply( this, arguments );\n    } else {\n      $.error( 'Method ' +  method + ' does not exist on jQuery.formValidation' );\n    }\n\n  };\n\n\n  // legacy API\n  $.fn.forcesForms = $.fn.formValidation;\n}( jQuery ));\n/*! Generate ID - v1.0.3 - 2014-09-18\n * https://github.com/bboyle/Generate-ID\n * Copyright (c) 2014 Ben Boyle; Licensed MIT */\n(function( $ ) {\n  'use strict';\n\n\n  /**\n   * Assigns a unique value to `@id` unless hasAttribute( 'id' ) is true\n   *\n   * @param preferredId string to use for id value\n   *\n   * @return jquery object (chaining supported)\n   */\n  $.fn.generateId = function( preferredId ) {\n\n    var i = 1;\n\n    if ( ! preferredId ) {\n      preferredId = 'id';\n    } else {\n      preferredId = $.trim( preferredId.toLowerCase().replace( /[^a-z0-9_]+/g, ' ' )).replace( /\\s+/g, '-' );\n    }\n\n    return this.each(function() {\n\n      var id;\n\n      if ( ! this.getAttribute( 'id' )) {\n\n        id = preferredId;\n        while ( document.getElementById( id )) {\n          id = preferredId + String( i );\n          i++;\n        }\n        this.setAttribute( 'id', id );\n      }\n    });\n\n  };\n\n\n}( jQuery ));\n/*! HTML5 constraintValidationAPI - v1.0.7 - 2015-02-19\n * https://github.com/bboyle/html5-constraint-validation-API\n * Copyright (c) 2015 Ben Boyle; Licensed MIT */\n/*exported initConstraintValidationAPI*/\nif ( jQuery !== 'undefined' ) {\n  (function( $ ) {\n    'use strict';\n\n\n    // http://www.whatwg.org/specs/web-apps/current-work/multipage/states-of-the-type-attribute.html#valid-e-mail-address\n    // 1*( atext / \".\" ) \"@\" ldh-str 1*( \".\" ldh-str )\n    var REXP_EMAIL = /^[A-Za-z0-9!#$%&'*+\\-\\/=\\?\\^_`\\{\\|\\}~\\.]+@[A-Za-z0-9\\-]+(\\.[A-Za-z0-9\\-]+)*$/,\n\n      // fields that validate\n      candidateForValidation = 'input, select, textarea',\n\n      // for feature detection\n      input = $( '<input>' ).get( 0 ),\n\n      // polyfill test\n      polyfill = typeof input.validity !== 'object',\n\n      // radio button bug (google earth internal browser)\n      radioButtonBug = ! polyfill && $( '<input type=\"radio\" required checked>' ).get( 0 ).validity.valueMissing === true,\n      validateBuggyRadioButtons,\n\n      // invalid fields filter\n      isInvalid = function() {\n        return ! ( this.disabled || this.validity.valid );\n      },\n\n      // get all radio buttons\n      getRadioButtonsInGroup = function( radio ) {\n        return $( radio.form.elements[ radio.name ] ).filter( '[name=\"' + radio.name + '\"]' );\n      },\n\n\n      // manage validity state object\n      validityState = function( typeMismatch, valueMissing, customError, message, patternMismatch ) {\n\n        if ( typeof message === 'string' ) {\n          customError = !! message;\n        }\n        return {\n          customError: customError,\n          typeMismatch: !! typeMismatch,\n          patternMismatch: !! patternMismatch,\n          valueMissing: !! valueMissing,\n          valid: ! valueMissing && ! customError && ! typeMismatch && ! patternMismatch\n        };\n      },\n\n\n      validateField = function(message) {\n        var $this = $( this ),\n          required = !!$this.attr( 'required' ),\n          radio = this.type === 'radio' && getRadioButtonsInGroup( this ),\n          valueMissing,\n          invalidEmail = this.getAttribute( 'type' ) === 'email' && !!this.value && ! REXP_EMAIL.test( this.value ),\n          patternMismatch,\n          pattern,\n          newValidityState\n        ;\n\n        // radio buttons are required if any single radio button is flagged as required\n        if ( radio && !required ) {\n          required = radio.filter( '[required]' ).length > 0;\n        }\n        // if required, check for missing value\n        if ( required ){\n\n          if ( /^select$/i.test( this.nodeName )) {\n            valueMissing = this.selectedIndex === 0 && this.options[ 0 ].value === '';\n\n          } else if ( radio ) {\n            valueMissing = radio.filter( ':checked' ).length === 0;\n\n          } else if ( this.type === 'checkbox' ) {\n            valueMissing = !this.checked;\n\n          } else {\n            valueMissing = !this.value;\n          }\n\n        }\n\n        if ( !! this.getAttribute( 'pattern' ) ) {\n          if ( this.value.length > 0 ) {\n            // http://www.whatwg.org/specs/web-apps/current-work/multipage/common-input-element-attributes.html#compiled-pattern-regular-expression\n            pattern = new RegExp( '^(?:' + this.getAttribute( 'pattern' ) + ')$' );\n\n            patternMismatch = ! pattern.test( this.value );\n\n          } else {\n            patternMismatch = false;\n          }\n        }\n\n        // set .validityState\n        newValidityState = validityState( invalidEmail, valueMissing, this.validity.customError || false, message, patternMismatch );\n        if ( radio ) {\n          getRadioButtonsInGroup( this ).each(function() { this.validity = newValidityState; });\n        } else {\n          this.validity = newValidityState;\n        }\n\n        // set .validationMessage\n        if ( this.validity.valid ) {\n          this.validationMessage = '';\n\n        } else if ( this.validity.customError ) {\n          if ( typeof message === 'string' ) {\n            this.validationMessage = message;\n          }\n\n        } else if ( this.validity.valueMissing ) {\n          this.validationMessage = 'Please answer this question';\n\n        } else if ( this.validity.typeMismatch ) {\n          this.validationMessage = 'Please type an email address';\n\n        } else if ( this.validity.patternMismatch ) {\n          this.validationMessage = 'Please use the format shown';\n\n        } else {\n          this.validationMessage = 'Please answer the question correctly';\n        }\n\n        return this.disabled || this.validity.valid;\n      },\n\n\n      changeHandler = function( event ) {\n        var target = event.target;\n\n        validateField.call( target );\n\n        if ( target.type === 'radio' ) {\n          getRadioButtonsInGroup( target ).each(function() {\n            this.validity = target.validity;\n            this.validationMessage = target.validationMessage;\n          });\n        }\n      },\n\n\n      submitHandler = function( event ){\n\n        var form = $( this ),\n          novalidate = !!form.attr( 'novalidate' ),\n          invalid = false\n        ;\n\n        // polyfill validation?\n        if ( polyfill ) {\n          // check fields\n          form.find( candidateForValidation ).each(function() {\n\n            invalid = !validateField.call( this );\n\n\n            // unless @novalidate\n            if ( ! novalidate ) {\n              // if invalid\n              if ( invalid ) {\n                // use triggerHandler because invalid does not bubble\n                $( this ).triggerHandler( 'invalid' );\n              }\n            }\n          });\n        }\n\n        // NOTE all the code below runs in all browsers to polyfill implementation bugs\n\n        // required radio button check\n        if ( radioButtonBug ) {\n          validateBuggyRadioButtons( this );\n        }\n\n        // Opera 11 on OSX fires submit event even when fields are invalid\n        // correct implementations will not invoke this submit handler until all fields are valid\n\n        // unless @novalidate\n        // if there are invalid fields\n        if ( ! novalidate && form.find( candidateForValidation ).filter( isInvalid ).length > 0 ) {\n          // abort submit\n          event.stopImmediatePropagation();\n          event.preventDefault();\n          return false;\n        }\n      },\n\n\n      initConstraintValidationAPI = function() {\n        var candidates = $( candidateForValidation );\n\n        // INPUT validityState\n        if ( polyfill ) {\n          // set us up the API\n          candidates.filter(function() {\n            return typeof this.validity !== 'object';\n          }).each(function() {\n\n            this.validity = validityState( false, false, false, '', false );\n            this.validationMessage = '';\n\n          });\n\n          // check validity on change\n          candidates\n            .unbind( 'change.constraintValidationAPI' )\n            .bind( 'change.constraintValidationAPI', changeHandler )\n          ;\n        }\n\n        // INPUT validitationMessage\n        if ( typeof input.validationMessage !== 'string' ) {\n          // set us up the API\n          candidates.filter(function() {\n            return typeof this.validationMessage !== 'string';\n          }).each(function() {\n            this.validationMessage = '';\n          });\n        }\n\n        // INPUT checkValidity\n        if ( typeof input.checkValidity !== 'function' ) {\n          // set us up the API\n          candidates.filter(function() {\n            return typeof this.checkValidity !== 'function';\n          }).each(function() {\n            var domElement = this;\n\n            this.checkValidity = function() {\n              var valid = validateField.call( domElement );\n\n              // if invalid, and unless novalidate\n              if ( ! valid && ! this.form.getAttribute( 'novalidate' )) {\n                // use triggerHandler because invalid does not bubble\n                $( domElement ).triggerHandler( 'invalid' );\n              }\n\n              return valid;\n            };\n          });\n        }\n\n        // INPUT setCustomValidity\n        if ( typeof input.setCustomValidity !== 'function' ) {\n          // set us up the API\n          candidates.filter(function() {\n            return typeof this.setCustomValidity !== 'function';\n          }).each(function() {\n            var that = this;\n\n            this.setCustomValidity = function( message ) {\n              validateField.call( that, message );\n            };\n          });\n        }\n\n        // check for required radio button bug (google earth internal browser)\n        if ( radioButtonBug ) {\n          validateBuggyRadioButtons = function( form ) {\n            var seen = {};\n            var radio,\n              valueMissing;\n\n            // check every required radio button\n            $( 'input', form ).filter( ':radio' ).filter( '[required],[aria-required=\"true\"]' ).each(function() {\n              if ( typeof seen[ this.name ] === 'undefined' ) {\n                seen[ this.name ] = true;\n\n                radio = getRadioButtonsInGroup( this );\n                valueMissing = radio.filter( ':checked' ).length === 0;\n\n                if ( valueMissing ) {\n                  // make sure @required is set to use validation API\n                  radio.attr( 'required', 'required' );\n                } else {\n                  // using @aria-required=true so we can track this control\n                  // removing @required here to bypass validation bug\n                  radio.attr( 'aria-required', true ).removeAttr( 'required' );\n                }\n              }\n            });\n          };\n\n          // initial validity\n          $( 'form' ).each( validateBuggyRadioButtons );\n\n          // watch changes\n          if ( ! polyfill ) {\n            candidates.filter( ':radio' )\n              .unbind( 'change.constraintValidationAPI' )\n              .bind( 'change.constraintValidationAPI', function() {\n                validateBuggyRadioButtons( this.form );\n              })\n            ;\n          }\n        }\n\n        // check validity on submit\n        // this should be bound before all other submit handlers bound to the same form\n        // otherwise they will execute before this handler can cancel submit (oninvalid)\n        $( 'form' )\n          .unbind( 'submit.constraintValidationAPI' )\n          .bind( 'submit.constraintValidationAPI', submitHandler )\n        ;\n      }\n    ;\n\n\n    // run immediately and ondocumentready\n    initConstraintValidationAPI();\n    $( initConstraintValidationAPI );\n\n\n    // expose init function\n    window.initConstraintValidationAPI = initConstraintValidationAPI;\n\n\n  }( jQuery ));\n}\n/*\n * jQuery Simply Countable plugin\n * Provides a character counter for any text input or textarea\n *\n * @version  0.4.2\n * @homepage http://github.com/aaronrussell/jquery-simply-countable/\n * @author   Aaron Russell (http://www.aaronrussell.co.uk)\n *\n * Copyright (c) 2009-2010 Aaron Russell (aaron@gc4.co.uk)\n * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)\n * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.\n */\n\n(function($){\n\n  $.fn.simplyCountable = function(options){\n\n    options = $.extend({\n      counter:            '#counter',\n      countType:          'characters',\n      maxCount:           140,\n      strictMax:          false,\n      countDirection:     'down',\n      safeClass:          'safe',\n      overClass:          'over',\n      thousandSeparator:  ',',\n      onOverCount:        function(){},\n      onSafeCount:        function(){},\n      onMaxCount:         function(){}\n    }, options);\n\n    var navKeys = [33,34,35,36,37,38,39,40];\n\n    return $(this).each(function() {\n\n      var countable = $(this),\n        counter = $(options.counter);\n      if (!counter.length) { return false; }\n\n      var countCheck = function() {\n\n        var count;\n        var revCount;\n\n        var reverseCount = function(ct) {\n          return ct - (ct * 2) + options.maxCount;\n        };\n\n        var countInt = function() {\n          return (options.countDirection === 'up') ? revCount : count;\n        };\n\n        var numberFormat = function(ct) {\n          var prefix = '';\n          if (options.thousandSeparator) {\n            ct = ct.toString();\n            // Handle large negative numbers\n            if (ct.match(/^-/)) {\n              ct = ct.substr(1);\n              prefix = '-';\n            }\n            for (var i = ct.length - 3; i > 0; i -= 3){\n              ct = ct.substr(0,i) + options.thousandSeparator + ct.substr(i);\n            }\n          }\n          return prefix + ct;\n        };\n\n        var changeCountableValue = function(val) {\n          countable.val(val).trigger('change');\n        };\n\n        /* Calculates count for either words or characters */\n        if (options.countType === 'words') {\n          count = options.maxCount - $.trim(countable.val()).split(/\\s+/).length;\n          if (countable.val() === '') { count += 1; }\n        } else {\n          count = options.maxCount - countable.val().length;\n        }\n        revCount = reverseCount(count);\n\n        /* If strictMax set restrict further characters */\n        if (options.strictMax && count <= 0) {\n          var content = countable.val();\n          if (count < 0) {\n            options.onMaxCount(countInt(), countable, counter);\n          }\n          if (options.countType === 'words') {\n            var allowedText = content.match( new RegExp('\\\\s?(\\\\S+\\\\s+){'+ options.maxCount +'}') );\n            if (allowedText) {\n              changeCountableValue(allowedText[0]);\n            }\n          } else { changeCountableValue(content.substring(0, options.maxCount)); }\n          count = 0, revCount = options.maxCount;\n        }\n\n        counter.text(numberFormat(countInt()));\n\n        /* Set CSS class rules and API callbacks */\n        if (!counter.hasClass(options.safeClass) && !counter.hasClass(options.overClass)) {\n          if (count < 0) {\n            counter.addClass(options.overClass);\n          } else {\n            counter.addClass(options.safeClass);\n          }\n        } else if (count < 0 && counter.hasClass(options.safeClass)){\n          counter.removeClass(options.safeClass).addClass(options.overClass);\n          options.onOverCount(countInt(), countable, counter);\n        } else if (count >= 0 && counter.hasClass(options.overClass)){\n          counter.removeClass(options.overClass).addClass(options.safeClass);\n          options.onSafeCount(countInt(), countable, counter);\n        }\n\n      };\n\n      countCheck();\n\n      countable.on('keyup blur paste', function(e) {\n        switch (e.type) {\n          case 'keyup':\n            // Skip navigational key presses\n            if ($.inArray(e.which, navKeys) < 0) { countCheck(); }\n            break;\n          case 'paste':\n            // Wait a few miliseconds if a paste event\n            setTimeout(countCheck, (e.type === 'paste' ? 5 : 0));\n            break;\n          default:\n            countCheck();\n            break;\n        }\n      });\n\n    });\n\n  };\n\n})(jQuery);/*! relevance - v2.1.0 - 2015-03-04\n * https://github.com/bboyle/relevance\n * Copyright (c) 2015 Ben Boyle; Licensed MIT */\nif ( jQuery !== 'undefined' ) {\n  (function( $ ) {\n    'use strict';\n\n    var relevantEvent = 'relevant',\n      irrelevantEvent = 'irrelevant',\n      elementsToDisable = 'button, input, select, textarea',\n      polyfillHidden = (function() {\n        var hidden = $( '<div hidden></div>' );\n        var hiddenSupported = hidden.appendTo( 'body' ).is( ':hidden' );\n        hidden.remove();\n        return ! hiddenSupported;\n      }()),\n\n      formElementsByName = function( form, name ) {\n        // filter out the @id matching of HTMLFormElement.elements[]\n        return $( form.elements[ name ] ).filter( '[name=\"' + name + '\"]' );\n      },\n\n      filterRelevant = function() {\n        return $( this ).closest( '[hidden]' ).length === 0;\n      },\n\n      filterIrrelevant = function() {\n        return $( this ).closest( '[hidden]' ).length > 0;\n      },\n\n      valueMap = function( element ) {\n        return element.value;\n      },\n\n      valueInArray = function( possibleValues, actualValues ) {\n        var i;\n        if ( typeof possibleValues !== 'object' ) {\n          possibleValues = [possibleValues];\n        }\n\n        for ( i = 0; i < actualValues.length; i++ ) {\n          if ( $.inArray( actualValues[ i ], possibleValues ) !== -1 ) {\n            return true;\n          }\n        }\n\n        return false;\n      },\n\n      // when changing a control that alters relevance of other elements\n      recalculateRelevance = function() {\n        // assume dependency map exists\n        var map = $( this.form ).data( 'relevance' ).dependencyMap[ this.name ],\n          values = $.map( formElementsByName( this.form, this.name ).filter( 'select,:checked' ).filter( ':visible' ), valueMap )\n        ;\n\n        $.each( map, function( index, config ) {\n          config.items.relevance( 'relevant', valueInArray( config.values, values ) !== config.negate );\n        });\n      },\n\n      // when an element changes relevance, check descendent controls that alter relevance in turn\n      recalculateDependents = function( isRelevant ) {\n        var form,\n          dependencyMap,\n          targets;\n\n        // any change to relevant toggles?\n        form = this.closest( 'form' );\n        if ( form.length ) {\n          dependencyMap = form.data( 'relevance' );\n          if ( typeof dependencyMap === 'object' ) {\n            dependencyMap = dependencyMap.dependencyMap;\n            if ( typeof dependencyMap === 'object' ) {\n              // get descendent-or-self select, radio and checkbox\n              targets = this.add( this.find( 'select,input' )).filter( 'select,:radio,:checkbox' );\n              // get unique @name for select, radio and checkbox\n              targets = $.unique( $.map( targets, function( elementOfArray ) {\n                return elementOfArray.name;\n              }));\n              $.each( targets, function( index, name ) {\n                var map = dependencyMap[ name ],\n                  values;\n\n                if ( typeof map === 'object' ) {\n                  $.each( map, function( index, config ) {\n                    if ( isRelevant === false ) {\n                      config.items.relevance( 'relevant', false );\n\n                    } else {\n                      values = $.map( formElementsByName( form[ 0 ], name ).filter( 'select,:checked' ).filter( ':visible' ), valueMap );\n                      config.items.relevance( 'relevant', valueInArray( config.values, values ) !== config.negate );\n                    }\n                  });\n                }\n              });\n            }\n          }\n        }\n      },\n\n\n      methods = {\n\n        // $( x ).relevance( 'relevant', true )\n        // if the element is hidden, fire a 'relevant' event\n        // $( x ).relevance( 'relevant', false )\n        // if the element is visible, fire an \"irrelevant\" event\n        relevant: function( makeRelevant ) {\n          var targets;\n          if ( makeRelevant ) {\n            targets = this.filter( filterIrrelevant ).trigger( relevantEvent );\n          } else {\n            targets = this.filter( filterRelevant ).trigger( irrelevantEvent );\n          }\n          if ( targets.length ) {\n            recalculateDependents.call( targets, makeRelevant );\n          }\n          return this;\n        },\n\n        // $( x ).relevance( 'show' )\n        // shows the element (does not check if element is already visible)\n        // triggers 'relevant-done' after showing is complete\n        show: function() {\n          // enable elements before they are shown\n          this.add( this.find( elementsToDisable ))\n          // but not any controls that will remain irrelevant\n            .not( this.find( '[hidden]' ).find( elementsToDisable ))\n            .each(function() {\n              this.removeAttribute( 'disabled' );\n            });\n\n          // stop animation, remove @hidden and @aria-hidden, start showing\n          if ( polyfillHidden ) {\n            this.stop( true, true ).slideDown();\n          }\n          return this.removeAttr( 'hidden' ).removeAttr( 'aria-hidden' );\n        },\n\n        // $( x ).relevance( 'hide' )\n        // hides the element (does not check if element is already hidden)\n        hide: function() {\n          this.attr({\n            hidden: 'hidden',\n            'aria-hidden': 'true'\n          });\n\n          if ( polyfillHidden ) {\n            this.stop( true, true ).hide( 0, function() {\n              var $this = $( this );\n              // disable elements (including self if appropriate)\n              $this.filter( elementsToDisable ).add( $this.find( elementsToDisable )).each(function() {\n                this.setAttribute( 'disabled', 'disabled' );\n              });\n            });\n          } else {\n            this.filter( elementsToDisable ).add( this.find( elementsToDisable )).each(function() {\n              this.setAttribute( 'disabled', 'disabled' );\n            });\n          }\n\n          return this;\n        },\n\n        // $( x ).relevance( 'relevantWhen', { name: radio/checkbox/select, value: requiredValue, negate: false | true })\n        // sets up dependent relevance\n        // example: $( '#red' ).relevance( 'relevantWhen', { name: 'rgb', value: 'red' })\n        // example: $( '#red' ).relevance( 'relevantWhen', { id: 'rgb-red', value: 'red' })\n        // #red will be shown/hidden when '@name=rgb' value changes.\n        relevantWhen: function( config ) {\n          var form,\n            data,\n            name,\n            values;\n\n          values = config.values || [config.value];\n\n          if ( config.name ) {\n            name = config.name;\n          } else if ( config.id ) {\n            name = document.getElementById( config.id ).name;\n          } else if ( config.container ) {\n            name = $( config.container ).find( 'select,:radio,:checkbox' ).attr( 'name' );\n          }\n          config.negate = config.negate === true;\n\n          // find the form that has this control\n          form = this.closest( 'form' );\n          // get dependency map (create it if needed)\n          data = form.data( 'relevance' );\n          if ( typeof data !== 'object' ) {\n            data = {};\n            form.data( 'relevance', data );\n          }\n          if ( typeof data.dependencyMap !== 'object' ) {\n            data.dependencyMap = {};\n          }\n          if ( typeof data.dependencyMap[ name ] !== 'object' ) {\n            data.dependencyMap[ name ] = [];\n            // setup event handlers for name\n            formElementsByName( form[ 0 ], name )\n              .filter( ':radio,:checkbox' )\n              .bind( 'click', recalculateRelevance )\n              .end()\n              .filter( 'select' )\n              .bind( 'change', recalculateRelevance )\n            ;\n          }\n          // add or update relevance rule\n          data.dependencyMap[ name ].push({\n            items: this,\n            values: values,\n            negate: config.negate\n          });\n\n          // initial relevance\n          this.relevance( 'relevant', valueInArray( values, $.map( formElementsByName( form[ 0 ], name ).filter( 'select,:checked' ).filter( ':visible' ), valueMap )) !== config.negate );\n\n          return this;\n        },\n\n        // $( x ).relevance( 'instructions', options )\n        // sets up relevance handling based on text instructions\n        // options ::= { instructions: '.relevance', questions: '.questions > li' }\n        instructions: function( options ) {\n          options = $.extend( {\n            instructionSelector: '.relevance',\n            questionSelector: '.questions > li'\n          }, options );\n\n          this.find( options.instructionSelector ).each(function() {\n            var $this = $( this ),\n              value = $this.text(),\n              question = $this.closest( options.questionSelector ),\n              toggle = question.prevAll( options.questionSelector ),\n              i,\n              answers,\n              nestedToggles,\n              match = false,\n              negate = false;\n\n            // pattern: (If different to <PREVIOUS QUESTION>)\n            if ( /If different to/.test( value )) {\n              // assume previous 'li' is the toggle\n              match = true;\n              toggle = toggle.eq( 0 );\n              value = toggle.find( ':checkbox' ).val();\n              negate = true;\n            } else {\n              value = value.replace( /^.*chose\\s+\\S([^'\"]+)\\S\\s+above.*$/, '$1' );\n              // which of the previous questions is the toggle?\n              i = 0;\n              while ( i < toggle.length ) {\n                // does this item have the answer we need?\n                answers = $.map( toggle.eq( i ).find( 'option,:radio,:checkbox' ), valueMap );\n                if ( valueInArray( value, answers )) {\n                  nestedToggles = toggle.eq( i ).find( options.questionSelector );\n                  if ( nestedToggles.length ) {\n                    toggle = $( nestedToggles.get().reverse() );\n                    i = 0;\n                  } else {\n                    match = true;\n                    toggle = toggle.eq( i ); // toggle.length becomes 1, loop will exit\n                    i = 1; // exit loop\n                  }\n                } else {\n                  i++;\n                }\n              }\n            }\n            if ( match ) {\n              toggle = toggle.add( toggle.find( 'select,input' )).filter( 'select,:radio,:checkbox' );\n              question.relevance( 'relevantWhen', { name: toggle.attr( 'name' ), value: value, negate: negate });\n            }\n          });\n          return this;\n        }\n      };\n    // fallback (default) event handling\n    $( document ).bind( 'relevant irrelevant', function( event ) {\n      var target = $( event.target );\n      if ( event.type === 'relevant' ) {\n        target.relevance( 'show' );\n      } else {\n        target.relevance( 'hide' );\n      }\n    });\n\n    $.fn.relevance = function( method ) {\n      // Method calling logic\n      // http://docs.jquery.com/Plugins/Authoring#Plugin_Methods\n      if ( methods[method] ) {\n        return methods[ method ].apply( this, Array.prototype.slice.call(arguments, 1 ));\n      } else if ( typeof method === 'object' || !method ) {\n        // return methods.init.apply( this, arguments );\n        return this;\n      } else {\n        $.error( 'Method ' +  method + ' does not exist on jQuery.relevance' );\n      }\n    };\n  }( jQuery ));\n}\n(function( $ ) {\n  'use strict';\n\n  // window.console.log( 'file-size-validation.js' );\n\n  var displayFileSize;\n\n\n  // bail out if no file API support\n  if ( typeof $( '<input type=\"file\">' )[ 0 ].files !== 'object' ) {\n    // duplicate fsize instruction before submit button\n    $( '.max-fsize' ).each(function() {\n      var fsize = $( this ),\n        form;\n      form = fsize.closest( '.preamble' ).nextAll( 'form' ).eq( 0 );\n      form.find( '.actions' ).before( '<p>' + fsize.parent().html() + '</p>' );\n    });\n    return;\n  }\n\n\n  // display file size\n  displayFileSize = function( input ) {\n    input.nextAll( '.fsize' ).remove();\n    if ( input[ 0 ].files.length > 0 ) {\n      var filesize = input[ 0 ].files[ 0 ].size / 1024;\n\n      if ( filesize >= 1024 ) {\n        filesize = filesize / 1024;\n        input.after( '<span class=\"fsize\">File size: ' + ( Math.round( filesize * 10 ) / 10 ) + 'MB' + '</span>' );\n      } else {\n        input.after( '<span class=\"fsize\">File size: ' + ( Math.round( filesize * 10 ) / 10 ) + 'KB' + '</span>' );\n      }\n    }\n  };\n\n\n  // forms with max file size\n  $('.max-fsize').each(function() {\n    var fsize = $( this ),\n      form,\n      maxFileSize;\n\n    // read fsize, assume MB\n    maxFileSize = parseInt( fsize.text().replace( /\\D+/g, '' ), 10 ) * 1024 * 1024;\n    // window.console.log( 'found max fsize', maxFileSize );\n\n    // get form (closest form after the preamble)\n    form = fsize.closest( '.preamble' ).nextAll( 'form' ).eq( 0 );\n\n    form.find( ':file' ).on( 'change', function() {\n      var input = $( this );\n\n      displayFileSize( input );\n\n      // recalculate file sizes\n      var total = 0,\n        valid;\n      $( ':file', this.form ).each(function( index, element ) {\n        var size = element.files.length ? element.files[ 0 ].size : 0;\n        total += size; // total = total + size;\n      });\n\n      // is everything valid or invalid?\n      valid = total <= maxFileSize;\n\n      // window.console.info( 'file size validation:', total, '<', maxFileSize, total < maxFileSize );\n\n      $( ':file', this.form )\n      // update validity for :file inputs with values\n        .filter(function() {\n          return !!this.value;\n        })\n        .each(function( index, element ) {\n          element.setCustomValidity( valid ? '' : 'Attachments are too large' );\n        })\n        // blank :file inputs should not have a custom error\n        .filter(function() {\n          return ! this.value;\n        })\n        .each(function( index, element ) {\n          element.setCustomValidity( '' );\n        });\n\n    });\n\n  });\n\n}( jQuery ));\n(function( $ ) {\n  'use strict';\n\n  var xorConstraintSubmitHandler = function( event ) {\n      // has one of the required fields been answered?\n      var xorFields = event.data[ 0 ],\n        validationMessage = event.data[ 1 ],\n        xorConstraintMet = xorFields.filter(function() {\n          return this.value.length > 1;\n        }).length > 0\n      ;\n\n      xorFields.each(function() {\n        this.setCustomValidity(\n          xorConstraintMet ? '' : validationMessage\n        );\n      });\n    },\n\n    xorConstraintChangeHandler = function( event, validationUiRefreshOnly ) {\n      if ( validationUiRefreshOnly === true ) {\n        // pass through to other change handlers\n        return;\n      }\n\n      var xorFields = event.data[ 0 ];\n\n      // constraint validity check\n      xorConstraintSubmitHandler( event );\n\n      // trigger validation UI  on other fields?\n      if ( event.type === 'change' ) {\n        xorFields.not( event.target ).triggerHandler( 'change', true );\n      }\n    }\n  ;\n\n\n  // plugin\n  $.fn.initXorConstraint = function( validationMessage ) {\n    // custom validation for XOR options\n    this.closest( 'form' ).on( 'submit', [this, validationMessage], xorConstraintSubmitHandler );\n    this.on( 'change', [this, validationMessage], xorConstraintChangeHandler );\n  };\n}(jQuery));\n\n(function( $ ){\n  'use strict';\n\n\n  /* detect required field markers for IE6 */\n  $( 'abbr[title*=\"required\"]' ).addClass( 'required' );\n\n\n  // show/hide entire 'question' when fields become irrelevant\n  $( '.questions > li' ).not( '.section' )\n    .bind( 'relevant', function( event ) {\n      $( this ).relevance( 'show' );\n      event.stopImmediatePropagation();\n    })\n    .bind( 'irrelevant', function( event ) {\n      $( this ).relevance( 'hide' );\n      event.stopImmediatePropagation();\n    })\n  ;\n\n\n  // click the table cell to click on a matrix option\n  $( '.matrix' ).delegate( 'td', 'click', function( evt ) {\n    $( evt.target )\n      .find( 'input' )\n      .trigger( 'click' )\n      .trigger( 'change' )\n    ;\n  });\n\n}( jQuery ));\n\n\n/**\n * This file initialises forms\n */\n(function( $ ) { /* start closure */\n  'use strict';\n  var initValidation = function() {\n    window.initConstraintValidationAPI();\n    $( 'form' ).formValidation( 'validate' );\n  };\n  // now: hookup form validation\n  initValidation();\n  // document ready: hookup form validation\n  $( initValidation );\n  // instruction based relevance\n  if ( $( '.relevance', 'form' ).length > 0 ) {\n    $('#qg-primary-content form').relevance( 'instructions' );\n  }\n}(jQuery)); /* end closure */\n(function($) {\n  'use strict';\n\n\n  // extend jquery to 'toggle required'\n  $.fn.toggleRequired = function( required ) {\n    return this.each(function() {\n      var controls = $( this.form.elements[ this.name ] ),\n        question = $( this ).closest( '.questions > li' );\n\n      if ( required ) {\n        if ( question.find( 'abbr[title=\"(required)\"]' ).length === 0 ) {\n          question.find( '.label' ).after(\n            // create ABBR shiv for IE6\n            $( document.createElement( 'abbr' ))\n              .attr( 'title' , '(required)' )\n              .text( '*' )\n              .addClass( 'required' )\n          );\n        }\n        controls.attr( 'required', 'required' );\n      } else {\n        controls.removeAttr( 'required' );\n        question.find( 'abbr[title=\"(required)\"]' ).remove();\n      }\n    });\n  };\n}(jQuery));\n/*globals qg*/\n// globals\nvar qg = { oldIE: false };\nqg.date = (function() {\n  'use strict';\n\n\n  var datePackage = {},\n\n    // Public holiday dates for 2010-2014 (viewed 2012-09-28)\n    // http://www.justice.qld.gov.au/fair-and-safe-work/industrial-relations/public-holidays/dates\n    qldHolidays = {\n      // 2010\n      '2010-01-01' : 'New Years Day',\n      '2010-01-26' : 'Australia Day',\n      '2010-04-02' : 'Good Friday',\n      '2010-04-03' : 'Easter Saturday',\n      '2010-04-05' : 'Easter Monday',\n      '2010-04-26' : 'Anzac Day',\n      '2010-05-03' : 'Labour Day',\n      '2010-06-14' : 'Queens Birthday',\n      '2010-12-25' : 'Christmas Day',\n      '2010-12-27' : 'Boxing Day',\n      '2010-12-28' : 'Christmas Day holiday',\n\n      // 2011\n      '2011-01-01' : 'New Years Day',\n      '2011-01-03' : 'New Years Day holiday',\n      '2011-02-26' : 'Australia Day',\n      '2011-04-22' : 'Good Friday',\n      '2011-04-23' : 'Easter Saturday',\n      '2011-04-25' : 'Anzac Day',\n      '2011-04-26' : 'Easter Monday',\n      '2011-05-02' : 'Labour Day',\n      '2011-06-13' : 'Queens Birthday',\n      '2011-12-25' : 'Christmas Day',\n      '2011-12-26' : 'Boxing Day',\n      '2011-12-27' : 'Christmas Day holiday',\n\n      // 2012\n      '2012-01-01' : 'New Years Day',\n      '2012-01-02' : 'New Years Day holiday',\n      '2012-02-26' : 'Australia Day',\n      '2012-04-06' : 'Good Friday',\n      '2012-04-07' : 'Easter Saturday',\n      '2012-04-09' : 'Easter Monday',\n      '2012-04-25' : 'Anzac Day',\n      '2012-05-07' : 'Labour Day',\n      '2012-06-11' : 'Queens Diamond Jubilee',\n      '2012-10-01' : 'Queens Birthday',\n      '2012-12-25' : 'Christmas Day',\n      '2012-12-26' : 'Boxing Day',\n\n      // 2013\n      '2013-01-01' : 'New Years Day',\n      '2013-01-28' : 'Australia Day holiday',\n      '2013-03-29' : 'Good Friday',\n      '2013-03-30' : 'Easter Saturday',\n      '2013-04-01' : 'Easter Monday',\n      '2013-04-25' : 'Anzac Day',\n      '2013-06-10' : 'Queens Birthday',\n      '2013-10-07' : 'Labour Day',\n      '2013-12-25' : 'Christmas Day',\n      '2013-12-26' : 'Boxing Day',\n\n      // 2014\n      '2014-01-01' : 'New Years Day',\n      '2014-01-27' : 'Australia Day holiday',\n      '2014-04-18' : 'Good Friday',\n      '2014-04-19' : 'Easter Saturday',\n      '2014-04-21' : 'Easter Monday',\n      '2014-04-25' : 'Anzac Day',\n      '2014-06-09' : 'Queens Birthday',\n      '2014-10-06' : 'Labour Day',\n      '2014-12-25' : 'Christmas Day',\n      '2014-12-26' : 'Boxing Day',\n\n      // 2015\n      '2015-01-01' : 'New Years Day',\n      '2015-01-26' : 'Australia Day holiday',\n      '2015-04-03' : 'Good Friday',\n      '2015-04-04' : 'Easter Saturday',\n      '2015-04-06' : 'Easter Monday',\n      '2015-04-25' : 'Anzac Day',\n      '2015-06-08' : 'Queens Birthday',\n      '2015-10-05' : 'Labour Day',\n      '2015-12-25' : 'Christmas Day',\n      '2015-12-26' : 'Boxing Day',\n      '2015-12-28' : 'Boxing Day holiday',\n\n      // 2016\n      '2016-01-01' : 'New Years Day',\n      '2016-01-26' : 'Australia Day holiday',\n      '2016-03-25' : 'Good Friday',\n      '2016-03-26' : 'Easter Saturday',\n      '2016-03-28' : 'Easter Monday',\n      '2016-04-25' : 'Anzac Day',\n      '2016-06-13' : 'Queens Birthday',\n      '2016-10-03' : 'Labour Day',\n      '2016-12-25' : 'Christmas Day',\n      '2016-12-27' : 'Christmas Day holiday',\n      '2016-12-26' : 'Boxing Day',\n\n      // 2017\n      '2017-01-01' : 'New Years Day',\n      '2017-01-02' : 'New Years Day holiday',\n      '2017-01-26' : 'Australia Day holiday',\n      '2017-04-14' : 'Good Friday',\n      '2017-04-15' : 'Easter Saturday',\n      '2017-04-17' : 'Easter Monday',\n      '2017-04-25' : 'Anzac Day',\n      '2017-06-12' : 'Queens Birthday',\n      '2017-10-02' : 'Labour Day',\n      '2017-12-25' : 'Christmas Day',\n      '2017-12-26' : 'Boxing Day',\n\n      // 2018\n      '2018-01-01' : 'New Years Day',\n      '2018-01-26' : 'Australia Day holiday',\n      '2018-03-30' : 'Good Friday',\n      '2018-03-31' : 'Easter Saturday',\n      '2018-04-02' : 'Easter Monday',\n      '2018-04-25' : 'Anzac Day',\n      '2018-05-07' : 'Labour Day',\n      '2018-10-01' : 'Queens Birthday',\n      '2018-12-25' : 'Christmas Day',\n      '2018-12-26' : 'Boxing Day'\n    }\n  ;\n\n\n  // is a public holiday\n  datePackage.isPublicHoliday = function( date ) {\n    var d = date.getDate(),\n      m = date.getMonth() + 1,\n      y = String( date.getFullYear() ),\n      dateString = y + ( m < 10 ? '-0' : '-' ) + m + ( d < 10 ? '-0' : '-' ) + d\n    ;\n\n    // return true, date is a public holiday\n    // TODO, if not a state-wide public holiday and given a latlong, check if it is a show holiday\n    // return false, date is not a public holiday\n    // TODO\n    // return undefined, it is not known if the date is a public holiday (beyond 2 years in the future?)\n\n    return !!qldHolidays[ dateString ];\n  };\n  return datePackage;\n}());\n(function($) {\n  'use strict';\n\n\n  // find any textareas with a word count\n  $( '.hint' ).filter(function() {\n    return ( /Maximum:\\s+\\d+\\s+words/ ).test( $( this ).text() );\n  }).each(function() {\n    var hint = $( this ),\n      max = parseInt( hint.text().replace( /Maximum:\\s+(\\d+)\\s+words/, '$1' ), 10 ),\n      textField = hint.closest( 'label' ).nextAll( 'textarea' ),\n      counter;\n\n    // add counter\n    counter = $( '<span/>' ).generateId( 'word-count' );\n    //eg. Maximum: 50 words (50 remaining)\n    hint.append( ' (', counter, ' remaining)' );\n\n    textField.simplyCountable({\n      counter: '#' + counter[ 0 ].id,\n      countType: 'words',\n      countDirection: 'down',\n      maxCount: max,\n      onOverCount: function() {\n        textField[ 0 ].setCustomValidity( 'Too many words' );\n      },\n      onSafeCount: function() {\n        textField[ 0 ].setCustomValidity( '' );\n      }\n    });\n  });\n}( jQuery ));\n\n//# sourceMappingURL=qg-forms.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/legacy/forms/forms.js","/*\n # Autocomplete for Funnelback site search\n # Requires generate-id : node_modules/generate-id/dist/generate-id.min.js';\n */\n\n// onready\n$(function () {\n    'use strict';\n\n    // until find.search supports https, we cannot use suggest feature on https domains\n    // if (/^https/.test(window.location.protocol)) {\n    //     return;\n    // }\n\n    var MAX_SUGGESTIONS = 7;\n\n    // TODO refactor this so functions are not created for every search form found on the page\n\n    // setup for each form\n    // TODO hardcoded to find.search.qld.gov.au\n    $('form').filter('[action*=\"//find.search.qld.gov.au/\"]').each(function () {\n        var form = this;\n        var searchField = $(form.elements.query).filter('[name=\"query\"]');\n        // var lastSearch = searchField.val();\n        var userTyped = '';\n\n        // ARIA\n        searchField\n            .attr('role', 'combobox')\n            .attr('autocomplete', 'off')\n            // both? or list? http://www.w3.org/TR/2011/CR-wai-aria-20110118/states_and_properties#aria-autocomplete\n            .attr('aria-autocomplete', 'both');\n\n        // make the search box wider on focus\n        // keep it wide while interacting with the search form (box, button, autosuggest list)\n\n        // create the suggestion box\n        var suggestions = $('<ul role=\"listbox\" class=\"listbox\" aria-busy=\"true\"/>').generateId('suggestbox');\n\n        function closeSuggestions() {\n            suggestions.empty();\n            suggestions.attr('aria-busy','true');\n        }\n\n        function prefillInput(value) {\n            searchField[0].value = value;\n            // console.log( 'prefilling', value, userTyped );\n            // http://stackoverflow.com/questions/12047648/setselectionrange-with-on-click-in-chrome-does-not-select-on-second-click\n            setTimeout(function () {\n                searchField[0].setSelectionRange(userTyped.length, searchField[0].value.length);\n            }, 0);\n        }\n\n        function moveFocus(n) {\n            var a = suggestions.find('a');\n            var focus = a.filter('.focus');\n            if (focus.length > 0) {\n                n = (a.index(focus) + n) % a.length;\n                focus.removeClass('focus');\n            } else {\n                n = n > -1 ? 0 : -1;\n            }\n            a = a.eq(n);\n            a.addClass('focus');\n            prefillInput(a.text());\n        }\n\n        // TODO how can we run this on both search forms (content and header) but show suggestions in the appropriate place?\n\n        suggestions.on('click', 'a', function (event) {\n            // should this submit? no. see ARIA instructions\n            event.preventDefault();\n\n            searchField.val($(this).text()).get(0).focus();\n            closeSuggestions();\n        });\n\n\n        var KEYS = {\n            alt: 18,\n            backspace: 8,\n            delete: 46,\n            down: 40,\n            enter: 13,\n            escape: 27,\n            left: 37,\n            right: 39,\n            tab: 9,\n            up: 38\n        };\n\n\n        // clicking outside the field closes suggestions\n        $(document).on('click', function (event) {\n            if (searchField.is(event.target)) {\n                event.stopImmediatePropagation();\n            } else {\n                closeSuggestions();\n            }\n        });\n\n        // handle loss of focus due to TAB\n        // need to run this onblur, but NOT when focus remains in the suggestions box\n        // can we check focus in a parent element!? maybe a custom element\n        // <combobox><input><ul></combobox> ??\n        searchField.on('keydown', function (event) {\n            switch (event.which) {\n                case KEYS.up:\n                case KEYS.down:\n                    moveFocus(event.which === KEYS.down ? 1 : -1);\n                    break;\n                case KEYS.tab:\n                    closeSuggestions();\n            }\n        });\n        searchField.on('keyup', function (event) {\n            switch (event.which) {\n                case KEYS.escape:\n                case KEYS.enter:\n                    closeSuggestions();\n            }\n\n            // delete\n            // console.log( event.which );\n        });\n\n        searchField.on('input', function () {\n\n            searchField.after(suggestions);\n            searchField.attr('aria-owns', suggestions.attr('id'));\n\n            userTyped = this.value;\n            if (userTyped.length < 3) {\n                closeSuggestions();\n                return;\n            }\n\n            // console.log( 'fetch suggestions for ', userTyped );\n\n            $.ajax({\n                // cache! (the URL will be change with the search text)\n                cache: true,\n                dataType: 'jsonp',\n                url: 'https://find.search.qld.gov.au/s/suggest.json?',\n                data: {\n                    // TODO read these from search form\n                    collection: $(form.elements.collection).filter('[name=\"collection\"]').val() || 'qld-gov',\n                    profile: $(form.elements.profile).filter('[name=\"profile\"]').val() || 'qld_preview',\n                    show: MAX_SUGGESTIONS,\n                    partial_query: userTyped\n                }\n            })\n                .done(function (data) {\n                    if (data.length < 1) {\n                        closeSuggestions();\n                        return;\n                    }\n                    // TODO if the user has typed more, filter the matches in this array\n                    // should we retreive more than 4 so there is a bit of slack here?\n                    // what if ajax repsonses arrive out of sequence? track last match?\n                    // console.log( 'suggestions for ', userTyped, data, 'user has typed', searchField.val() );\n                    var match = new RegExp(userTyped.replace(/([.+*?\\[^\\]$(){}=!<>|:-\\\\,])/g, '\\\\$1'), 'g');\n                    var safeInput = userTyped.replace(/</g, '&lt;');\n                    suggestions.html($.map(data, function (value) {\n                        var htmlValue = value.replace(/</g, '&lt;').replace(match, '<mark>' + safeInput + '</mark>');\n                        // use form.action + default params\n                        return '<li><a href=\"https://find.search.qld.gov.au/s/search.html?collection=qld-gov&profile=qld&query=' + encodeURIComponent(value) + '\">' + htmlValue + '</a></li>';\n                    }).join('\\n'));\n\n                    // issue #3: issues with typing over selected suggestion\n                    // https://github.com/qld-gov-au/jquery.autocomplete/issues/3\n                    // check length is increasing (if not, user is deleting input)\n                    // if ( searchField[0].value.length > lastSearch.length ) {\n                    // \t// set the value to the best answer and select the untyped portion of the text\n                    // \tprefillInput( data[0] );\n                    // }\n                    searchField.val();\n                    suggestions.attr('aria-busy','false');\n                });\n\n            // show suggestions box\n            // click on suggestion = fill in form and submit\n            // hover over selection = update 'placeholder' style text\n        });\n    });\n}); // onready\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/legacy/site-search-autocomplete.js","import './qg-social-media';\nimport './progressive-reveal';\nimport './license';\nimport './carousel/carousel';\nimport './quick-exit/quick-exit';\nimport './accordion/accordion';\nimport './forms/recaptcha';\nimport './forms/qg-address-autocomplete';\nimport './qg-document-links';\nimport accessibility      from './accessibility/accessibility';\n\naccessibility.init();\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/components/qg-components.js","/*global jQuery*/\n(function ($) {\n  'use strict';\n\n  var qgSocialMedia = {\n    config: {\n      $twitterEl: $('.qg-twitter-updates'),\n      $facebookEl: $('.qg-facebook-updates'),\n    },\n    init: function () {\n      let twitterSdkScript = 'platform.twitter.com/widgets.js';\n      let facebookSdkScript = 'connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.8';\n      if (this.config.$twitterEl.length > 0 && $('script[src*=\"' + twitterSdkScript + '\"]').length <= 0) {\n        this.loadScript('script', 'twitter-wjs', twitterSdkScript);\n      }\n      if (this.config.$facebookEl.length > 0 && $('script[src*=\"' + facebookSdkScript + '\"]').length <= 0) {\n        var fbUrl = this.config.$facebookEl.attr('data-href');\n        var fbhtml = '<div class=\"fb-page\" data-href=\"' + fbUrl + '\" data-tabs=\"timeline\" data-small-header=\"true\" data-width=\"10000\"  data-adapt-container-width=\"true\" data-show-facepile=\"false\"></div>';\n        this.config.$facebookEl.append(fbhtml);\n        this.loadScript('script', 'facebook-wjs', facebookSdkScript);\n      }\n    },\n    loadScript: function (tag, id, sdkUrl) {\n      var createEl;\n      var fjs = document.getElementsByTagName(tag)[0];\n      var p = /^http:/.test(document.location) ? 'http' : 'https';\n      if (!document.getElementById(id)) {\n        createEl = document.createElement(tag);\n        createEl.id = id;\n        createEl.src = `${p}://${sdkUrl}`;\n        fjs.parentNode.insertBefore(createEl, fjs);\n      }\n    },\n  };\n  qgSocialMedia.init();\n}(jQuery));\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/components/qg-social-media.js","/**\n ************************\n ** Progressive Reveal **\n ************************\n *\n * Version: 1.2\n * Developed by: Nimrod Evans for DSITIA > OSSIO\n *\n * A progressive reveal function to show the next form element once a previous element has been selected.\n * Designed for forms, though technically it will work on any element.\n *\n * Requires:\n * - JQuery\n *\n * How to use:\n * ===========\n * Attach the following classes / attributes to your objects:\n * data-qg-pr - Set on the trgr element for revealing the next section to activate progressive reveal\n * data-target - On the trgr, the target for the reveal action (eg. \".option2\")\n *\n * Optional:\n * data-parent - On the trgr, sets the group this trgr belongs to for toggling other elements on/off\n * data-qg-pr-parent - On the parent group object, defines the parent / group element instead of using 'data-parent' on each trgr\n *\n * Version Control:\n * ================\n * 1.2    - 10/1 -Re-factored, modularised, closure, changed class requirements to data targets (as they do not add styling),\n *          added QG prefix, removed button custom functionality.\n * 1.1    - 29/4 - Added 'NOT' functionality, hack fix 'stutter' on init\n * 1.0.1  - 28/4 - Fixed minor bugs for robustness\n * 1.0    - First full version\n**/\n\n'use strict';\n\n(function () {\n  const defaultSettings = {\n    toggle: 'false',\n    hideOthers: 'true',\n  };\n  const settingsAttr = {\n    toggle: 'data-toggle',\n    hideOthers: 'data-hide-others',\n  };\n  // For parent / group\n  const parentAttr = 'data-qg-pr-parent'; // Optional\n  // For trigger\n  const trgrAttr = 'data-qg-pr';\n  const trgrTargetAttr = 'data-target';\n  const trgrParentAttr = 'data-parent'; // Optional\n  const trgrActiveDataName = 'qgProgressiveRevealActive';\n\n  function saveAttr (target, $parent, setting) {\n    const aVal = settingsAttr[setting];\n\n    if (!$(target).attr(aVal)) {\n      if ($parent.attr(aVal)) {\n        $(target).attr(aVal, $parent.attr(aVal));\n      } else {\n        $(target).attr(aVal, defaultSettings[setting]);\n      }\n    }\n  }\n\n  function handleNonActiveElements (trgr, $parent) {\n    if ($(trgr).attr(settingsAttr.hideOthers) !== 'false') {\n      $parent.find(`*[${trgrAttr}]`).each(function () {\n        if ($(this).data(trgrActiveDataName) !== true && $($(this).attr(trgrTargetAttr)).is(':visible')) {\n          $($(this).attr(trgrTargetAttr)).slideUp();\n        }\n      });\n    }\n  }\n\n  // Set up targets\n  $(`*[${trgrAttr}]`).each(function () {\n    // Find parent\n    let $parent = $('body');\n    if (!$(this).attr(trgrParentAttr) && $($(this).attr(trgrTargetAttr)).closest(`*[${parentAttr}]`)) {\n      $(this).attr(trgrParentAttr, `*[${parentAttr}]`);\n    }\n    $parent = $(this).closest($(this).attr(trgrParentAttr));\n    // Save settings\n    saveAttr(this, $parent, 'toggle');\n    saveAttr(this, $parent, 'hideOthers');\n  });\n\n  // Trigger action\n  $(`*[${trgrAttr}]`).on('click', function () {\n    // Set target (should reduce file size)\n    const $tgt = $($(this).attr(trgrTargetAttr));\n\n    $(this).data(trgrActiveDataName, true);\n\n    // Handle other active elements\n    if ($(this).attr(trgrParentAttr)) {\n      const $parent = $(this).closest($(this).attr(trgrParentAttr));\n      if ($parent.length) {\n        handleNonActiveElements(this, $parent);\n      }\n    }\n    // Handle this element action\n    if ($(this).attr(settingsAttr.toggle) === 'true') {\n      $tgt.slideToggle();\n    } else if (!$tgt.is(':visible')) {\n      $tgt.slideDown();\n    }\n\n    $(this).removeData(trgrActiveDataName);\n  });\n}());\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/components/progressive-reveal.js","/**\n * if there is not a #document-licence present\n * this script will add one based on the DCTERMS.license metadata\n */\n/*globals qg*/\n(function ($, qg) {\n  'use strict';\n  const licenceOptions = {\n    url: '//creativecommons.org/licenses/',\n    imgSrc: qg.cdn + qg.swe.paths.images + '/licences/',\n    types: {\n      'by': {\n        'name': 'Attribution',\n        'imgName': 'by-80x15.png',\n        'versions': {\n          '3.0': {\n            'title': '3.0 Australia (CC BY 3.0 AU)',\n            'urlPath': 'by/3.0/au/',\n          },\n          '4.0': {\n            'title': '4.0 International (CC BY 4.0)',\n            'urlPath': 'by/4.0/',\n          },\n        },\n      },\n      'by-sa': {\n        'name': 'Attribution-ShareAlike',\n        'imgName': 'by-sa-80x15.png',\n        'versions': {\n          '3.0': {\n            'title': '3.0 Australia (CC BY-SA 3.0 AU)',\n            'urlPath': 'by-sa/3.0/au',\n          },\n          '4.0': {\n            'title': '4.0 International (CC BY-SA 4.0)',\n            'urlPath': 'by-sa/4.0/',\n          },\n        },\n      },\n      'by-nd': {\n        'name': 'Attribution-NoDerivatives',\n        'imgName': 'by-nd-80x15.png',\n        'versions': {\n          '3.0': {\n            'title': '3.0 Australia (CC BY-ND 3.0 AU))',\n            'urlPath': 'by-nd/3.0/au/',\n          },\n          '4.0': {\n            'title': '4.0 International (CC BY-ND 4.0)',\n            'urlPath': 'by-nd/4.0/',\n          },\n        },\n      },\n      'by-nc': {\n        'name': 'Attribution-NonCommercial',\n        'imgName': 'by-nc-80x15.png',\n        'versions': {\n          '3.0': {\n            'title': '3.0 Australia (CC BY-NC 3.0 AU)',\n            'urlPath': 'by-nc/3.0/au/',\n          },\n          '4.0': {\n            'title': '4.0 International (CC BY-NC 4.0)',\n            'urlPath': 'by-nc/4.0/',\n          },\n        },\n      },\n      'by-nc-sa': {\n        'name': 'Attribution-NonCommercial-ShareAlike',\n        'imgName': 'by-nc-sa-80x15.png',\n        'versions': {\n          '3.0': {\n            'title': '3.0 Australia (CC BY-NC-SA 3.0 AU)',\n            'urlPath': 'by-nc-sa/3.0/au/',\n          },\n          '4.0': {\n            'title': '4.0 International (CC BY-NC-SA 4.0)',\n            'urlPath': 'by-nc-sa/4.0/',\n          },\n        },\n      },\n      'by-nc-nd': {\n        'name': 'Attribution-NonCommercial-NoDerivatives',\n        'imgName': 'by-nc-nd-80x15.png',\n        'versions': {\n          '3.0': {\n            'title': '3.0 Australia (CC BY-NC-ND 3.0 AU)',\n            'urlPath': 'by-nc-nd/3.0/au/',\n          },\n          '4.0': {\n            'title': '4.0 International (CC BY-NC-ND 4.0)',\n            'urlPath': 'by-nc-nd/4.0/',\n          },\n        },\n      },\n    },\n  };\n\n  var getLicenseVal = function (url) {\n    var urlArr = /\\/licenses\\/([a-zA-Z0-9-/.]+)/g.exec(url)[1].split('/').filter(function (e) {\n      return e;\n    });\n\n    var abbreviation = urlArr[0];\n    var version = urlArr[1];\n\n    return {\n      name: licenceOptions.types[abbreviation].name,\n      url: licenceOptions.url,\n      imgPath: licenceOptions.imgSrc + licenceOptions.types[abbreviation].imgName,\n      version: licenceOptions.types[abbreviation].versions[version],\n    };\n  };\n\n  // add licence if not present\n  if (!document.getElementById('document-licence')) {\n    // get licence URL from metadata\n    $('meta').filter('[name=\"DCTERMS.license\"]').filter(function () {\n      return new RegExp('https?://creativecommons.org/licenses/[a-zA-Z0-9\\\\-\\\\/\\\\.]+').test(this.content);\n    }).eq(0).each(function () {\n      var url = this.content;\n      var licence = getLicenseVal(url);\n      // if we have licence details\n      if (licence) {\n        $('.qg-content-footer').append(\n        '<p id=\"document-licence\">' +\n          '<a rel=\"license\" href=\"' + licence.url + licence.version.urlPath + '\" title=\"Text available under Creative Commons ' + licence.name + ' ' + licence.version.title + ' licence\">' +\n          '<img src=\"' + licence.imgPath + '\" alt=\"Creative Commons ' + licence.name + ' ' + licence.version.title + '\" />' +\n          '</a>' +\n          '</p>'\n        );\n      }\n    });\n  }\n}(jQuery, qg));\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/components/license.js","/*aside carousel play and pause feature*/\n'use strict';\n\n(function ($) {\n  let carousels = [];\n  let eqHeight = (carousels) => {\n    carousels.forEach(function (e) {\n      let items = $('#' + e + '').find('.carousel-item');\n      let heights = [];\n      let tallest;\n      if (items.length) {\n        var normalizeHeights = function () {\n          items.each(function () {\n            heights.push($(this).height());\n          });\n          tallest = Math.max.apply(null, heights);\n          items.each(function () {\n            $(this).css('min-height', tallest + 'px');\n          });\n        };\n        normalizeHeights();\n        $(window).on('resize orientationchange', function () {\n          tallest = 0;\n          heights.length = 0;\n          items.each(function () {\n            $(this).css('min-height', '0');\n          });\n          normalizeHeights();\n        });\n      }\n    });\n  };\n  $('.qg-featured .carousel.slide').each(function (i, e) {\n    let carousel = $(e).attr('id');\n    carousels.push(carousel);\n    $(this).attr('data-state', 'cycle');\n    $('#' + carousel + '').find('.toggleCarousel').click(function (e) {\n      e.preventDefault();\n      var $parentCarousel = $(this).parents('div.carousel.slide');\n      $parentCarousel.attr('data-state') === 'cycle' ? $parentCarousel.attr('data-state', 'pause') : $parentCarousel.attr('data-state', 'cycle');\n      $parentCarousel.carousel($parentCarousel.attr('data-state'));\n      $(this).find('i').toggleClass('fa-sync fa-pause');\n    });\n  });\n  window.onload = function () {\n    eqHeight(carousels);\n  };\n})(jQuery);\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/components/carousel/carousel.js","(function ($) {\n  'use strict';\n  var quickExit = {\n    el: '#qg-quick-exit',\n    init: function () {\n      $(this.el).empty().append(this.template);\n      this.methods();\n    },\n    template: '<header><strong>Quick exit</strong></header><ul><li><a target=\"_top\" data-accesskey=\"Esc\" href=\"http://www.abc.net.au/tv/epg/#/\" title=\"ABC\"><img src=\"https://www.qld.gov.au/_resources/images/icons/abc-bw.png\" alt=\"ABC\"></a></li></ul><footer><strong>press \\'Esc\\'</strong></footer>',\n    methods: function () {\n      var quickExitLinks = $(this.el).find('a');\n      var escLink = $(this.el).find('a[data-accesskey=\"Esc\"]').attr('href');\n      // action on esc key press\n\n      if ($(this.el).length > 0) {\n        $(document).keydown(function (e) {\n          if (e.keyCode === 27) {\n            window.location.replace(escLink);\n            return false;\n          }\n        });\n\n        // clicking on the quick exit block\n        $(document).on('click', this.el, function () {\n          window.location.replace(escLink);\n        });\n\n        //clicking on the links inside the quick exit block\n        quickExitLinks.click(function (e) {\n          e.stopPropagation();\n          e.preventDefault();\n          window.location.replace($(this).attr('href'));\n        });\n      }\n    },\n  };\n  quickExit.init();\n}(jQuery));\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/components/quick-exit/quick-exit.js","/**\n * This will handle functionalities like\n * - Expand all / Collapse all link\n * - Ability to direct link to each section and expand the linked section\n * - Handles aria-expanded values\n */\n\n(function ($) {\n  let accordion = '.qg-accordion';\n  if ($(accordion).length > 0) {\n    let accordionControls = 'input[name=control]';\n    let linkedpanel =  window.location.hash && $('input[aria-controls=' + window.location.hash.substring(1) + ']');\n\n    //Handle events of accordion inputs\n    $(accordion).find('article input').on('change', function () {\n      let checkedStatus = $(this).prop('checked');\n      let controlledPanedId = $('#' + $(this).attr('aria-controls'));\n      $(this)\n        .attr('aria-expanded', checkedStatus) //sets aria\n        .parents(accordion).find(accordionControls).prop('checked', false); //clears expand/collapse selection\n      controlledPanedId.attr('aria-hidden', !checkedStatus);\n    });\n\n    //expand all click\n    $(accordion).find(accordionControls).on('change', function () {\n      $(this).find('~ article input').prop('checked', $(this).val() === 'expand');\n      $(accordion).find('article input').trigger('change');\n    });\n\n    //Ability to direct link to each section and expand the linked section\n    if (linkedpanel.length > 0) {\n      linkedpanel.prop('checked', true);\n    }\n  }\n}(jQuery));\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/components/accordion/accordion.js","/*\n* Any form with form attribute data-recaptcha=\"true\", will run and validate with Google invisible recaptcha\n* The site key, will be replaced\n*   - Local - by test key in build process (gulp/gulp-config.js, gulp/common-tasks/js.js)\n*   - Dev, Test, Staging, Beta - in bamboo deployment plan - https://servicesmadesimpler.govnet.qld.gov.au/bitbucket/projects/CDN/repos/static-qld_cloudformation/browse/deployment_swev3.yml\n* */\n\n/*globals grecaptcha, qg*/\nimport keys from '../../data/qg-google-keys';\n\n(function ($, swe) {\n  let googleRecaptchaApiKey = window.location.hostname.search(/\\bdev\\b|\\btest\\b|\\blocalhost\\b/) !== -1 ? keys.defGoogleRecaptcha.uat : keys.defGoogleRecaptcha.prod;\n  let onloadRecaptcha = () => { // eslint-disable-line\n    $('form[data-recaptcha=\"true\"]').find('input[type=\"submit\"], button[type=\"submit\"]').on('click', (e) => {\n      e.preventDefault();\n      let subBtn = e.target;\n      let form = $(subBtn).parents('form');\n\n      grecaptcha.render(subBtn, {\n        'sitekey': googleRecaptchaApiKey,\n        'callback': () => {\n          var response = grecaptcha.getResponse();\n          if (response === '' || response === undefined || response.length === 0) {\n            console.log('Invalid recaptcha');\n            return false;\n          } else {\n            form.submit();\n          }\n        },\n      });\n      grecaptcha.execute();\n    });\n  };\n\n  if ($('form[data-recaptcha=\"true\"]').length > 0) {\t//enable recaptcha on form submits\n    swe.ajaxCall('https://www.google.com/recaptcha/api.js', 'script', onloadRecaptcha, 'Recaptcha unavailable');\n  }\n}(jQuery, qg.swe));\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/components/forms/recaptcha.js","/*global qg, jQuery, google*/\nlet qgInitAutocompleteAddress;\n\n(function (qg, $) {\n  'use strict';\n  let inputLocationId = 'qg-location-autocomplete';\n  let addressSelection = false;\n\n  const el = {\n    $searchWidget: $('#qg-search-widget'),\n    $autoComplete: $('.qg-location-autocomplete'),\n    $latitude: $('#latitude'),\n    $longitude: $('#longitude'),\n    $form: $('#qg-search-widget-form'),\n  };\n\n  // getting and setting input fields value using query parameter\n  var setsValue = function () {\n    el.$form.find(':input:not(:checkbox):not(:radio), select, textarea').each(function () {\n      let name = $(this).attr('name');\n      let getParameterVal = qg.swe.getParameterByName($(this).attr('name'));\n      getParameterVal !== false ? $('[name=\"' + name + '\"]').val(getParameterVal) : '';\n    }).end().find('input[type=checkbox], input[type=radio]').each(function () {\n      let name = $(this).attr('name');\n      let getParameterVal = qg.swe.getParameterByName(name);\n      getParameterVal !== false ? $('[value=\"' + getParameterVal + '\"]').prop('checked', true) : '';\n    });\n  };\n  setsValue();\n\n  // removing hidden fields value on reset\n  el.$searchWidget.find('button[type=\"reset\"]').click(function (evt) {\n    evt.preventDefault();\n    el.$form.find(':input:not(:checkbox):not(:radio), select, textarea').each(function () {\n      $(this).val('');\n    }).end().find('input[type=checkbox], input[type=radio]').each(function () {\n      $(this).prop('checked', false);\n    });\n  });\n\n  // on autoComplete blur removing hidden fields values\n  el.$autoComplete.blur(function () {\n    if ($(this).val().length === 0) {\n      el.$searchWidget.find(el.$latitude).val('')\n        .end()\n        .find(el.$longitude).val('');\n    }\n  });\n  if ($('.' + inputLocationId).length > 0) {\n    let getLocationEle = $('.qg-app-geocoding');\n    qgInitAutocompleteAddress = () => {\n      let qldBounds = new google.maps.LatLngBounds(\n        new google.maps.LatLng(-29, 138.0578426),\n        new google.maps.LatLng(-9.9339, 153.63831));\n      let inputLocationEle = document.getElementsByClassName(inputLocationId);\n      let addressFormId = 'qg-address-autocomplete';\n      $.each(inputLocationEle, function () {\n        let dataStrictBounds = $(this).data('strictbounds') || true;\n        let options = {\n          bounds: qldBounds,\n          strictBounds: dataStrictBounds,\n          types: ['geocode'],\n        };\n        let autocomplete = new google.maps.places.Autocomplete(this, options);\n        //if address form exists fill the selection\n        let form = $(this).siblings('.' + addressFormId);\n        if (form.length > 0) {\n          let formFields = {\n            street_number: {dataType: 'street', name: 'short_name'},\n            route: {dataType: 'street', name: 'long_name'},\n            locality: {dataType: 'city', name: 'long_name'},\n            administrative_area_level_1: {dataType: 'state', name: 'short_name'},\n            country: {dataType: 'country', name: 'long_name'},\n            postal_code: {dataType: 'zip', name: 'short_name'},\n          };\n          let fillInAddress = () => {\n            let loc = autocomplete.getPlace();\n            if ($('.error-handler').length > 0) { $('.error-handler').html(''); }\n            //clear form\n            $.each(formFields, (i, v) => {\n              form.find('input[data-type=\"' + v.dataType + '\"]').val('');\n            });\n            for (let i = 0; i < loc.address_components.length; i++) {\n              let type = loc.address_components[i].types[0];\n              if (formFields[type] !== undefined && formFields[type].dataType !== undefined) {\n                let inputEle = form.find('input[data-type=\"' + formFields[type].dataType + '\"]');\n                if (inputEle.length > 0) {\n                  let val = inputEle.val() + ' ' + loc.address_components[i][formFields[type].name];\n                  inputEle.val(val);\n                  inputEle.change();\n                }\n              }\n            }\n          };\n          autocomplete.addListener('place_changed', fillInAddress);\n        } else {\n          var fillInAddress = () => {\n            var place = autocomplete.getPlace();\n            if ($('.error-handler').length > 0 && $('.error-handler').val()) { $('.error-handler').html(''); }\n            $('.qg-result-title h2').append(`near '<strong><em>${place.formatted_address}'</em></strong>`);\n            if (place.geometry) {\n              el.$searchWidget.find(el.$latitude).val(place.geometry.location.lat())\n                .end()\n                .find(el.$longitude).val(place.geometry.location.lng());\n            }\n          };\n          autocomplete.addListener('place_changed', fillInAddress);\n        }\n        el.$form.find('.qg-location-autocomplete').keydown(function (e) {\n          if (addressSelection === false && $(this).val().length > 1) {\n            if (e.keyCode === 13 || e.keyCode === 9) {\n              e.preventDefault();\n            }\n          }\n        });\n        el.$form.find('.qg-location-autocomplete').keyup(function (e) {\n          if ($(this).val().length > 1) {\n            var reqReady = true;\n            var formContainer = $('.qg-fl');\n            var errorMessage = $('<p class=\"text-danger font-italic pt-2 pl-2\">No result found</p>');\n            var errorHandler = $('<div class=\"error-handler\"></div>');\n            if (!$('.error-handler').length > 0) { errorHandler.insertAfter(formContainer); }\n            let itemFull = $('.pac-container .pac-item:first').text();\n            let itemQuery = $('.pac-container .pac-item:first .pac-item-query').text();\n            let firstResult = itemQuery + ' ' + itemFull.substring(itemQuery.length);\n            if (e.keyCode === 13 || e.keyCode === 9) {\n              e.preventDefault();\n              if (firstResult.length > 1 && reqReady === true) {\n                $('.qg-location-autocomplete').val(firstResult);\n                let geocoder = new google.maps.Geocoder();\n                geocoder.geocode({ 'address': firstResult }, function (results, status) {\n                  if (status === 'OK') {\n                    reqReady = false;\n                    if (results) {\n                      $('.qg-location-autocomplete').val(results[0].formatted_address);\n                      let latitude = results[0].geometry.location.lat();\n                      let longitude = results[0].geometry.location.lng();\n                      $('.error-handler').html('');\n                      addressSelection = true;\n                      el.$searchWidget.find(el.$latitude).val(latitude)\n                        .end()\n                        .find(el.$longitude).val(longitude);\n                      setTimeout(function () {\n                        reqReady = true;\n                      }, 1000);\n                    } else {\n                      reqReady = true;\n                      $('.error-handler').html(errorMessage);\n                    }\n                  } else {\n                    reqReady = true;\n                    if (status === 'ZERO_RESULTS' || status === 'OVER_QUERY_LIMIT' || status === undefined) {\n                      $('.error-handler').html(errorMessage);\n                    }\n                  }\n                });\n              }\n            }\n          } else {\n            addressSelection = false;\n          }\n        });\n      });\n\n      //Get current location\n      if (getLocationEle.length > 0) {\n        $.each(getLocationEle, (i, ele) => {\n          $(ele).on('click', function (event) {\n            event.preventDefault();\n            if (navigator.geolocation) {\n              let showLocation = (position) => {\n                let latitude = position.coords.latitude;\n                let longitude = position.coords.longitude;\n                let latlng = {lat: parseFloat(latitude), lng: parseFloat(longitude)};\n                let geocoder = new google.maps.Geocoder();\n                let locationInput = $(this).siblings('.' + inputLocationId);\n                el.$searchWidget.find(el.$latitude).val(latitude)\n                  .end()\n                  .find(el.$longitude).val(longitude);\n                if (locationInput.length > 0) {\n                  geocoder.geocode({'location': latlng}, (results, status) => {\n                    if (status === 'OK') {\n                      if ($('.error-handler').length > 0) { $('.error-handler').html(''); }\n                      if (results[1]) {\n                        locationInput.val(results[1].formatted_address);\n                        locationInput.trigger('place_changed');\n                      } else {\n                        window.alert('No results found');\n                      }\n                    } else {\n                      window.alert('Geocoder failed due to: ' + status);\n                    }\n                  });\n                }\n              };\n              let errorHandler = (err) => {\n                if (err.code === 1) {\n                  alert('Error: Access is denied!');\n                } else if (err.code === 2) {\n                  alert('Error: Position is unavailable!');\n                }\n              };\n              let options = {timeout: 60000};\n              navigator.geolocation.getCurrentPosition(showLocation, errorHandler, options);\n            } else {\n              // Browser doesn't support Geolocation\n              window.alert('Your browser does not support Geolocation');\n            }\n          });\n        });\n      }\n    };\n    qg.loadGoogle(qgInitAutocompleteAddress);\n  }\n}(qg, jQuery));\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/components/forms/qg-address-autocomplete.js","(function ($) {\n  'use strict';\n  let linkType = '.PDF$|.DOC$|.DOCX$|.XLS$|.XLSX$|.RTF$';\n  let contentType = 'PDF|DOC|DOCX|XLS|XLSX|RTF';\n  // onready\n  $(document).ready(function () {\n    $('a', '#qg-primary-content, #qg-secondary-content').each(function () {\n      let $this = $(this);\n      let linkRegex = new RegExp(linkType, 'i');\n      let contentRegex = new RegExp(contentType, 'i');\n      if (linkRegex.test($this.attr('href'))) {\n        let linkText = $this.text();\n        if (contentRegex.test(linkText)) {\n          if (/\\.\\d*?/.test(linkText) && /KB/.test(linkText)) {\n            let extractSize = new RegExp('\\\\((?:' + contentType.toUpperCase() + '),?\\\\s+[0-9\\\\.]+\\\\s*[KM]B\\\\)', 'i');\n            linkText.match(extractSize) ? $(this).find('.meta').empty().append(linkText.match(extractSize)[0].toUpperCase().replace(/(\\.\\d*)/gi, '')) : '';\n          }\n        } else {\n          linkText = $this.attr('href').replace(/^.*\\.(.+)$/, '$1').toUpperCase();\n          $this.append(' <span class=\"meta\">(' + linkText + ')</span>');\n        }\n      }\n    });\n  });\n}(jQuery));\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/components/qg-document-links.js","/* ========================================================================\n* Accessibility helpers\n* ======================================================================== */\n\n'use strict';\n\nfunction opensInNewWindow () {\n  var $target = $('a[target=_blank]');\n\n  if (!$target.hasClass('qg-accessibility-off') && // Legacy\n    $target.attr('data-access-extlink') !== false && // Legacy\n    $target.attr('data-access-new-window') !== false &&\n    $target.attr('href') !== undefined) {\n    if ($.contains('.qg-blank-notice', $target) === false) {\n      $target.append(' <span class=\"qg-blank-notice sr-only\">(Opens in new window)</span> ');\n    }\n    if ($target.attr('title') === undefined) {\n      $target.attr('title', 'Opens in new window');\n    }\n  }\n}\n\nfunction addCorrectIncorrect () {\n  let ext = ':not(:has(.qg-blank-notice))';\n  let $correct = $(`.qg-correct${ext}, table.qg-correct-incorrect td:nth-child(odd)${ext}`);\n  let $incorrect = $(`.qg-incorrect${ext}, table.qg-correct-incorrect td:nth-child(even)${ext}`);\n\n  $correct.prepend('<span class=\"qg-blank-notice sr-only\">Correct.</span> ');\n  $incorrect.prepend('<span class=\"qg-blank-notice sr-only\">Incorrect.</span> ');\n}\n\nfunction init () {\n  if ($('body').attr('data-qg-accessibility') !== false) {\n    opensInNewWindow();\n    addCorrectIncorrect();\n  }\n}\n\nmodule.exports = { init: init };\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/components/accessibility/accessibility.js","(function ($) {\n  //Copyrights update to current year\n  if ($('#qg-copyright-daterange').length > 0) {\n    $('#qg-copyright-daterange').html('1995&ndash;' + new Date().getFullYear());\n  }\n}(jQuery));\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/layout/footer/footer-legals.js","'use strict';\n\nvar activeSideNav = (function () {\n  // const currentFilename = window.location.pathname.substr(window.location.pathname.lastIndexOf('/') + 1);\n\n  function refineText (text) {\n    return text.toLowerCase().replace(/ /g, '');\n  }\n\n  function getCurrentTitle () {\n    var currentPageTitle = '';\n    if ($('#guide-title').length > 0) {\n      currentPageTitle = $('#guide-title').text();\n    } else if ($('meta[name=\"DCTERMS.alternative\"]').length > 0 && refineText($('meta[name=\"DCTERMS.alternative\"]').eq(0).attr('content')) !== '') {\n      currentPageTitle = $('meta[name=\"DCTERMS.alternative\"]').eq(0).attr('content');\n    } else {\n      const titleClone = $('h1', '#qg-primary-content').eq(0).clone();\n      titleClone.find('.page-number').remove();\n      currentPageTitle = titleClone.text();\n    }\n    return refineText(currentPageTitle);\n  }\n\n  function highlightNavItem () {\n    var currentPageTitle = getCurrentTitle();\n    $('#qg-section-nav ul>li').each(function () {\n      if (refineText($(this).text()) === $.trim(currentPageTitle)) {\n        /*$(this).find('a').addClass('active');*/\n      }\n    });\n  }\n\n  return {\n    highlightNavItem: highlightNavItem,\n  };\n})();\n\nmodule.exports = activeSideNav;\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/layout/section-nav/section-nav.js","import breakpoints from '../../utils/breakpoints.js';\nlet stepNav = {\n  config: {\n    $guideSubNav: $('#qg-section-nav .guide-sub-nav'),\n    $qgSectionNav: $('#qg-section-nav'),\n    $qgSectionNavListItems: $('#qg-section-nav .guide-sub-nav li'),\n    $stepNav: $('#step-nav'),\n    $heading: $('#qg-primary-content h1'),\n  },\n  init () {\n    if (this.config.$guideSubNav.length > 0) {\n      this.createStepNav();\n      $(window).resize(() => this.createStepNav());\n    }\n  },\n  getActiveNav () {\n    let activeNav = 0;\n    this.config.$qgSectionNavListItems.each(function (index) {\n      if ($(this).find('a').hasClass('active')) {\n        activeNav = index;\n      }\n    });\n    return activeNav + 1;\n  },\n  countListItems () {\n    return this.config.$qgSectionNavListItems.length;\n  },\n  view (getActiveNav, countListItems) {\n    return `<section id=\"step-nav\">\n               <ul>\n                 <li>\n                    <a class=\"dropdown\">Step ${getActiveNav} of ${countListItems}</a>\n                 </li>\n               </ul>\n            </section>`;\n  },\n  createStepNav () {\n    let block;\n    if (($(window).width() < breakpoints.bsMd)) {\n      if ($('#step-nav .guide-sub-nav').length === 0) {\n        this.config.$heading.after(this.view(this.getActiveNav(), this.countListItems()));\n        let $getSubNav = this.config.$guideSubNav.clone();\n        $('#step-nav li').append($getSubNav);\n      }\n      $('#step-nav').hover(() => {\n        block = setTimeout(function () {\n          $('#step-nav .guide-sub-nav').stop(true, true).fadeIn({ duration: '100', queue: false }).css('display', 'none').slideDown('fast');\n        }, 200);\n      }, function () {\n        clearTimeout(block);\n        $('#step-nav .guide-sub-nav').stop(true, true).fadeOut({ duration: '100', queue: false }).slideUp('fast');\n      });\n    } else {\n      $(document).find($('#step-nav')).remove();\n    }\n  },\n};\n\nexport default stepNav;\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/layout/section-nav/step-nav.js","const breakpoints = (function () {\n  return {\n    bsXs: 480,\n    bsSm: 768,\n    bsMd: 992,\n    bsLg: 1200,\n  };\n})();\n\nexport default breakpoints;\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/utils/breakpoints.js","/**\n * Function for rendering social media links on CUE compliant sites\n *\n * Requires:\n * - JQuery\n **/\n\n/**\n * #####################################\n * Model\n **/\n\nconst socialLinksList = {\n  primary: [\n    { title: 'Facebook', showTitle: false, icon: renderIcon('fa', 'facebook') },\n    { title: 'Twitter', showTitle: false, icon: renderIcon('fa', 'twitter') },\n    { title: 'LinkedIn', showTitle: false, icon: renderIcon('fa', 'linkedin') },\n    { title: 'Others', showTitle: false, icon: renderIcon('fa', 'share-alt') },\n  ],\n /* secondary: [\n    // {title: 'Delicious',    showTitle: true, icon: renderIcon('fa', 'delicious')},\n    { title: \"Digg\", showTitle: true, icon: renderIcon(\"fa\", \"digg\") },\n    // {title: 'Evernote',     showTitle: true, icon: renderIcon('svg', 'evernote', '/assets/v3/images/evernote-logo-white.svg')},\n    // {title: 'Reddit',       showTitle: true, icon: renderIcon('fa', 'reddit')},\n    // {title: 'StumbleUpon',  showTitle: true, icon: renderIcon('fa', 'stumbleupon')},\n    // {title: 'Tumblr',       showTitle: true, icon: renderIcon('fa', 'tumblr')},\n    { title: \"Google+\", showTitle: true, icon: renderIcon(\"fa\", \"google-plus\") }\n  ]*/\n};\n\n/**\n * #####################################\n * Views\n **/\n\nfunction renderSocialURL (who, from, title, domain, description) {\n  switch (who) {\n  case 'facebook':\n    return `http://www.facebook.com/share.php?u=${from}&title=${title}`;\n  case 'twitter':\n    return `http://twitter.com/home?status=${title}+${from}`;\n  case 'linkedin':\n    return `http://www.linkedin.com/shareArticle?mini=true&url=${from}&title=${title}&source=${domain}`;\n  case 'others':\n    return `https://www.qld.gov.au/share?&title=${title}&url=${from}`;\n  /*  case \"delicious\":\n      return `http://del.icio.us/post?url=${from}&title=${title}]&notes=${description}`;\n    case \"digg\":\n      return `http://www.digg.com/submit?phase=2&url=${from}&title=${title}`;\n    case \"evernote\":\n      return `http://www.evernote.com/clip.action?url=${from}&title=${title}`;\n    case \"reddit\":\n      return `http://www.reddit.com/submit?url=${from}&title=${title}`;\n    case \"stumbleupon\":\n      return `http://www.stumbleupon.com/submit?url=${from}&title=${title}`;\n    case \"tumblr\":\n      return `https://www.tumblr.com/widgets/share/tool?posttype=link&content=${from}&title=${title}&caption=${description}`;\n    case \"google+\":\n      return `https://plus.google.com/share?url=${from}`;*/\n  }\n  return false;\n}\n\nfunction renderIcon (type, name, src = false) {\n  switch (type) {\n  case 'fa':\n    return `<span class=\"fa fa-${name} fa-2x qg-share-icon\" aria-hidden=\"true\"></span>`;\n  case 'svg':\n    return `<img src=\"${src}\" aria-hidden=\"true\" class=\"qg-share-icon\" alt=\"name\" />`;\n  }\n  // Default, return nothing\n  return '';\n}\n\nfunction renderHidden () {\n  return 'qg-visually-hidden';\n}\n\nfunction renderLink (url, title, icon, hidden = '') {\n  return `<li>\n            <a class=\"qg-share-link qg-accessibility-off\" href=\"${url}\" title=\"${title}\">${icon}<span class=\"title ${hidden}\"\">${title}</span></a>\n          </li>`;\n}\n\nfunction renderShareButtons () {\n  return `<h2>Share:</h2>\n  <ul class=\"navbar navbar-right\">\n    ${getLinks('primary')}\n   </ul>`;\n}\n\n/**\n * #####################################\n * Controller\n **/\n\nfunction getLinks (type) {\n  // Get link list\n  const socialLinks = socialLinksList;\n  // Get page data\n  const from = window.location.href;\n  const domain = window.location.hostname;\n  // const title = $(document).find('title').text();\n  const description = $('meta[name=\"DCTERMS.description\"]').attr('content');\n\n  // Iterate\n  let str = '';\n  for (let prop in socialLinks[type]) {\n    let entry = socialLinks[type][prop];\n    let titleKey = entry.title.toLowerCase();\n    let url = renderSocialURL(titleKey, from, entry.title, domain, description);\n    let hidden = '';\n    if (entry.showTitle !== true) {\n      hidden = renderHidden();\n    }\n    str = str + renderLink(url, entry.title, entry.icon, hidden);\n  }\n  return str;\n}\n\nfunction init () {\n  const $target = $('#qg-share');\n  $target.html(renderShareButtons());\n}\n\nmodule.exports = { init: init };\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/layout/content/share-links.js","(function () {\n  $('.qg-index-item').each(function () {\n    if ($(this).find('img').length <= 0) {\n      $(this).addClass('content-only');\n    }\n  });\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/layout/content/content.js","/**\n * Figures\n *\n * Show/hide credits for figures\n *\n * @requires jQuery\n */\n\n$(() => {\n  'use strict';\n\n  var figureElement = '.qg-cut-in, .qg-cut-in-alt';\n    $('#qg-content .figure-credits-toggle').on('click', function () {\n        $(this).closest(figureElement).find('.figure-credits').toggle(500).focus().end();\n    });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/layout/content/content-types/figure-credits-toggle.js","/**\n* Adds page and user details to hidden inputs on the feedback form\n**/\n\nfunction sanitize (str) {\n  if (!str) {\n    return false;\n  }\n  return str.replace(/</g, '&lt;') // strip <\n    .replace(/>/g, '&gt;') // strip >\n    .replace(/\\+/g, '&#43;') // strip +\n    .replace(/\\\\/g, '&#92;') // strip \\\n    .replace(/\\(/g, '&#40;') // strip (\n    .replace(/\\)/g, '&#41;') // strip )\n    .replace(/{/g, '&#123;') // strip (\n    .replace(/}/g, '&#124;'); // strip )\n}\n// the script try to predict browser name from the User-Agent\nlet browserName = (function () {\n  let ua = navigator.userAgent;\n  let tem;\n  let M = ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i) || [];\n  if (/trident/i.test(M[1])) {\n    tem = /\\brv[ :]+(\\d+)/g.exec(ua) || [];\n    return 'IE ' + (tem[1] || '');\n  }\n  if (M[1] === 'Chrome') {\n    tem = ua.match(/\\b(OPR|Edge)\\/(\\d+)/);\n    if (tem != null) return tem.slice(1).join(' ').replace('OPR', 'Opera');\n  }\n  M = M[2] ? [M[1], M[2]] : [navigator.appName, navigator.appVersion, '-?'];\n  if ((tem = ua.match(/version\\/(\\d+)/i)) != null) M.splice(1, 1, tem[1]);\n  return M.join(' ');\n})();\n\nfunction addHiddenInput (key, val) {\n  var newHiddenInput = $('<input type=\"hidden\"/>');\n  newHiddenInput.attr('name', key);\n  newHiddenInput.attr('value', sanitize(val));\n  $('#feedback-hidden-inputs').append(newHiddenInput);\n}\nfunction init (franchiseTitle) {\n  addHiddenInput('franchise', location.pathname.split('/')[1]);\n  addHiddenInput('page-title', $(document).find('title').text());\n  addHiddenInput('page-url', window.location.href);\n  addHiddenInput('page-referer', document.referrer);\n  addHiddenInput('rspUsrAgent', navigator.userAgent);\n  addHiddenInput('browserName', browserName);\n  addHiddenInput('OS', navigator.platform);\n}\n\nmodule.exports = { init: init };\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/_project/_blocks/layout/footer/feedback-form.js"],"sourceRoot":""}